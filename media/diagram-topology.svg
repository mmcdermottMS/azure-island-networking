<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="657px" preserveAspectRatio="none" style="width:1479px;height:657px;background:#FFFFFF;" version="1.1" viewBox="0 0 1479 657" width="1479px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="182" x="641.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172" x="646.5" y="24.5332">Island Network Topology</text><!--MD5=[4f80334fb3381e44c6b0cccb474a8532]
cluster subscriptionIsland--><g id="cluster_subscriptionIsland"><rect fill="#FFFFFF" height="606" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:1.0;" width="572" x="7" y="45.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="116" x="235" y="60.0664">«AzureSubscription»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="190" x="198" y="79.3125">Workload Subscription A</text><image height="70" width="70" x="258" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACrUlEQVR4Xu3awWrcMBAG4Dz+voJfIa9Q6LWXHHou5BR6KLSlh1B6KPwdKtaIGUsejf6xUugwLBtF1upb2eP1rh+QFt9//n7+9uvp5fXdpx/yKH/qHjnxoBtIIYzb+88qtw9fLoDxSbIyMnXr2VO0ehtqkEnisQabqSomyenJVtFIQ55UFYd06JEjStpLPZDHw4KRoSKQWh7dD5BSbnvSVbOk4qlLXHneKtaPH79mq6ZIu6dk/Vx3vcfhknJVcZLy1ClLoXvfQ1avbJWnCpLK+bSVHVK9YZIqQup7Supt7iGT3j31I1E1TPJ4tsZCyV5ne9LXaozk9JQUVV33pILbPiW5azVAOnyPPSk222iTtVZeUtjjT9ZaeUl2Bkmp1kp2dT2Vs3CROocBPdVabe3i2QoXyb5waqqFGt39zklDVY6VNenwfNCJc9LpXqfe1Fh2ht0G9703Siot+3/1nLrxRkn1sBt9lS44I7WykPjlAY6KZ9/1obQD1iOPnppcpH7Rs1MMpB22jDxa7uAkoXtE2fkF0g5bUs/DEV4S/n5tYF8ynB5P6wuMfgyQwFb1M+bBKAlXqcIeBEjIV814ECMhUzXpQZiEHNXoKegw4iSwVRQPJkngqVgezJPAUBE9oJAwp+J6wCIhqqJ7QCRhXJXhAZcEx2VItgerSIFLBn+sIW2MTwmtWEbKU2WR+hdCqarFpC103dqPxaSMOrGSlOHBQlKSBwtJekteLCP9e58eTkl5qpWkJNVi0pZwUC0mPb286iGmYyVp9FcWZywglfYkD64nlfZb+x7E+SCTCmOf974mqv0W+uHIGXySP5NUK0lJqv+ks7CT7mSGB3TS49E904eZ5AGd9Ny4Z/oyD+gkOFSpHmSQ0FVle5BEQkN1gQd5JBjVNR6kklCpLvNI/AFVdMr52fsbFwAAAABJRU5ErkJggg==" y="82.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="8" x="289" y="165.2852">[]</text></g><!--MD5=[6a6dfeeb3653cbfb709c9a533a96c1cd]
cluster nameResolution--><g id="cluster_nameResolution"><rect fill="none" height="400" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="257" x="39" y="200.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185" x="75" y="217.1426">Name Resolution Services</text></g><!--MD5=[874d2f2ba8edd7664b15b448ce929b47]
cluster subscriptionInfrastructure--><g id="cluster_subscriptionInfrastructure"><rect fill="#FFFFFF" height="361" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:1.0;" width="554" x="639" y="152.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="116" x="858" y="167.0664">«AzureSubscription»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="205" x="813.5" y="186.3125">Infrastructure Subscription</text><image height="70" width="70" x="881" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACrUlEQVR4Xu3awWrcMBAG4Dz+voJfIa9Q6LWXHHou5BR6KLSlh1B6KPwdKtaIGUsejf6xUugwLBtF1upb2eP1rh+QFt9//n7+9uvp5fXdpx/yKH/qHjnxoBtIIYzb+88qtw9fLoDxSbIyMnXr2VO0ehtqkEnisQabqSomyenJVtFIQ55UFYd06JEjStpLPZDHw4KRoSKQWh7dD5BSbnvSVbOk4qlLXHneKtaPH79mq6ZIu6dk/Vx3vcfhknJVcZLy1ClLoXvfQ1avbJWnCpLK+bSVHVK9YZIqQup7Supt7iGT3j31I1E1TPJ4tsZCyV5ne9LXaozk9JQUVV33pILbPiW5azVAOnyPPSk222iTtVZeUtjjT9ZaeUl2Bkmp1kp2dT2Vs3CROocBPdVabe3i2QoXyb5waqqFGt39zklDVY6VNenwfNCJc9LpXqfe1Fh2ht0G9703Siot+3/1nLrxRkn1sBt9lS44I7WykPjlAY6KZ9/1obQD1iOPnppcpH7Rs1MMpB22jDxa7uAkoXtE2fkF0g5bUs/DEV4S/n5tYF8ynB5P6wuMfgyQwFb1M+bBKAlXqcIeBEjIV814ECMhUzXpQZiEHNXoKegw4iSwVRQPJkngqVgezJPAUBE9oJAwp+J6wCIhqqJ7QCRhXJXhAZcEx2VItgerSIFLBn+sIW2MTwmtWEbKU2WR+hdCqarFpC103dqPxaSMOrGSlOHBQlKSBwtJekteLCP9e58eTkl5qpWkJNVi0pZwUC0mPb286iGmYyVp9FcWZywglfYkD64nlfZb+x7E+SCTCmOf974mqv0W+uHIGXySP5NUK0lJqv+ks7CT7mSGB3TS49E904eZ5AGd9Ny4Z/oyD+gkOFSpHmSQ0FVle5BEQkN1gQd5JBjVNR6kklCpLvNI/AFVdMr52fsbFwAAAABJRU5ErkJggg==" y="189.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="8" x="912" y="272.2852">[]</text></g><!--MD5=[59a58b1e555f596f3ae3b558401dd421]
cluster subscriptionSpoke--><g id="cluster_subscriptionSpoke"><rect fill="#FFFFFF" height="331" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:1.0;" width="220" x="1253" y="167.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="116" x="1305" y="182.0664">«AzureSubscription»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="191" x="1267.5" y="201.3125">Workload Subscription B</text><image height="70" width="70" x="1328" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACrUlEQVR4Xu3awWrcMBAG4Dz+voJfIa9Q6LWXHHou5BR6KLSlh1B6KPwdKtaIGUsejf6xUugwLBtF1upb2eP1rh+QFt9//n7+9uvp5fXdpx/yKH/qHjnxoBtIIYzb+88qtw9fLoDxSbIyMnXr2VO0ehtqkEnisQabqSomyenJVtFIQ55UFYd06JEjStpLPZDHw4KRoSKQWh7dD5BSbnvSVbOk4qlLXHneKtaPH79mq6ZIu6dk/Vx3vcfhknJVcZLy1ClLoXvfQ1avbJWnCpLK+bSVHVK9YZIqQup7Supt7iGT3j31I1E1TPJ4tsZCyV5ne9LXaozk9JQUVV33pILbPiW5azVAOnyPPSk222iTtVZeUtjjT9ZaeUl2Bkmp1kp2dT2Vs3CROocBPdVabe3i2QoXyb5waqqFGt39zklDVY6VNenwfNCJc9LpXqfe1Fh2ht0G9703Siot+3/1nLrxRkn1sBt9lS44I7WykPjlAY6KZ9/1obQD1iOPnppcpH7Rs1MMpB22jDxa7uAkoXtE2fkF0g5bUs/DEV4S/n5tYF8ynB5P6wuMfgyQwFb1M+bBKAlXqcIeBEjIV814ECMhUzXpQZiEHNXoKegw4iSwVRQPJkngqVgezJPAUBE9oJAwp+J6wCIhqqJ7QCRhXJXhAZcEx2VItgerSIFLBn+sIW2MTwmtWEbKU2WR+hdCqarFpC103dqPxaSMOrGSlOHBQlKSBwtJekteLCP9e58eTkl5qpWkJNVi0pZwUC0mPb286iGmYyVp9FcWZywglfYkD64nlfZb+x7E+SCTCmOf974mqv0W+uHIGXySP5NUK0lJqv+ks7CT7mSGB3TS49E904eZ5AGd9Ny4Z/oyD+gkOFSpHmSQ0FVle5BEQkN1gQd5JBjVNR6kklCpLvNI/AFVdMr52fsbFwAAAABJRU5ErkJggg==" y="204.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1359" y="287.2852">[]</text></g><!--MD5=[b112037bf681ddd4b63dd5e0fb3149a9]
entity dnsIslandPrivateZones--><g id="elem_dnsIslandPrivateZones"><rect fill="#FFFFFF" height="208.2344" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="209" x="63" y="244.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="73" x="131" y="267.0664">«AzureDNS»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="143" x="96" y="286.3125">Private DNS Zones</text><image height="70" width="70" x="132.5" xlink:href="data:image/png;base64,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" y="289.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="183" x="74.5" y="372.2852">[storage, event hub, AppServices,</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="25" x="155" y="387.3789">etc..]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="165.5" y="404.5488"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="77" y="422.1582">Automated support for Azure</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="88" y="439.7676">servcies with private links</text></g><!--MD5=[01b3b70f2db638f756c722fee7cd1807]
entity dnsPrivateResolver--><g id="elem_dnsPrivateResolver"><rect fill="#F1F1F1" height="70.3125" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="89.5" y="487.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="123" x="106" y="510.0664">«PrivateDnsResolver»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="99.5" y="527.2363">DNS Private Resolver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="127.5" y="544.8457">contoso.com</text></g><!--MD5=[fcae704fdc49b60d5a89b38f66ebe55c]
entity vnetIslandA--><g id="elem_vnetIslandA"><rect fill="#FFFFFF" height="190.625" rx="2.5" ry="2.5" style="stroke:#008000;stroke-width:2.0;" width="186" x="353" y="209.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47" x="422.5" y="231.5664">«island»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="84" x="404" y="250.8125">workload a</text><image height="70" width="70" x="411" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACv0lEQVR4Xu3XvY7UMBQF4LzkvAKvMK/AK1DSLi3dSLQ0FLQgbYEQBRIgCoQokM6ezV15PffaiX+yib3ykYvd5I59v8TKTCY8u0z6QP8ZpB4ySD1kkHrIIPWQQeohg9RDykk3H3+c33759fe/PlEXTshpObk+kZxCknhkbKgSj4xiVQnJ92yo8j01qmyS9cjQdfmxc5ap8kgxz6v333VpfjiJnblAlUF6Uo9kE1UqaQePpF6VRNrNI6lUrZN29khqVCukQzySYtUS6UCPpEwVJR3ukRSowqRGPJJcVYDUlEeSpdKkBj2SdNUVqVmPJFH1SMr13P78d/n8+8PXP6s/w1nAMhbzI/qciVTGpk1RPZBipUEPF3v57tuLN7ccp9efOOzdd+Epv5IfDPaK+RrxrL86YbooodV70mqRCk/5XcrgpdV1AA/aynPoTcR/WZKPyAje2OWGp9z9FuySg0d0KRCsDPr9NnwS75uqlCyoJnuUIzYR5rmCXXKoK8p/Y5V2o8qW8zHucqhKF7VL3QiQWGqXdCHJthgj2RoZdv4gSYpVpQsnCaom7gHr4bB7Q8LjtsVTZOPZMhl2crn51hPbL5xB+lQqHr9/PDiV8yyr3HrLXWK+kLbyHH88KM/J3HmJ8yiV9PDwEOc/yrOg4jL8vN/ljdlILkq1/BAXlVTyj+BDXHmcyrX6+FXLlWxpTIW5Azkba9FFvpQvaV+1Mm2sMujh8Hu4+kGUq9o5KR7Yn63NqhI9sCQ0qUr3IEhCY6osD2IkNKPK9WCBhAZUBR4sk3CoqsyDVRIOUhV7kELC7qoaDxJJ2FFV6UE6Cbuo6j3IIuGJVZt4kEtCXJW7sMqG02aTEFo++BaQG05S70EZCdeqTTwSX1XmQTEJs+qS9gqUFXm5KvaghtRsBqmHDFIPGaQeMkg9ZJB6yCD1kGdIugMnhHOf6nE9fwAAAABJRU5ErkJggg==" y="254.3281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="163" x="363" y="336.7852">[AKS, Azure Functions, Virtual</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55" x="418.5" y="351.8789">Machines]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="444" y="369.0488"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="400" y="386.6582">192.168.0.0/20</text></g><!--MD5=[61d4ba4c33d76f1084cbd93e321717dd]
entity vnetIslandB--><g id="elem_vnetIslandB"><rect fill="#FFFFFF" height="175.5313" rx="2.5" ry="2.5" style="stroke:#008000;stroke-width:2.0;" width="140" x="376" y="435.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47" x="422.5" y="458.0664">«island»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85" x="403.5" y="477.3125">workload b</text><image height="70" width="70" x="411" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACv0lEQVR4Xu3XvY7UMBQF4LzkvAKvMK/AK1DSLi3dSLQ0FLQgbYEQBRIgCoQokM6ezV15PffaiX+yib3ykYvd5I59v8TKTCY8u0z6QP8ZpB4ySD1kkHrIIPWQQeohg9RDykk3H3+c33759fe/PlEXTshpObk+kZxCknhkbKgSj4xiVQnJ92yo8j01qmyS9cjQdfmxc5ap8kgxz6v333VpfjiJnblAlUF6Uo9kE1UqaQePpF6VRNrNI6lUrZN29khqVCukQzySYtUS6UCPpEwVJR3ukRSowqRGPJJcVYDUlEeSpdKkBj2SdNUVqVmPJFH1SMr13P78d/n8+8PXP6s/w1nAMhbzI/qciVTGpk1RPZBipUEPF3v57tuLN7ccp9efOOzdd+Epv5IfDPaK+RrxrL86YbooodV70mqRCk/5XcrgpdV1AA/aynPoTcR/WZKPyAje2OWGp9z9FuySg0d0KRCsDPr9NnwS75uqlCyoJnuUIzYR5rmCXXKoK8p/Y5V2o8qW8zHucqhKF7VL3QiQWGqXdCHJthgj2RoZdv4gSYpVpQsnCaom7gHr4bB7Q8LjtsVTZOPZMhl2crn51hPbL5xB+lQqHr9/PDiV8yyr3HrLXWK+kLbyHH88KM/J3HmJ8yiV9PDwEOc/yrOg4jL8vN/ljdlILkq1/BAXlVTyj+BDXHmcyrX6+FXLlWxpTIW5Azkba9FFvpQvaV+1Mm2sMujh8Hu4+kGUq9o5KR7Yn63NqhI9sCQ0qUr3IEhCY6osD2IkNKPK9WCBhAZUBR4sk3CoqsyDVRIOUhV7kELC7qoaDxJJ2FFV6UE6Cbuo6j3IIuGJVZt4kEtCXJW7sMqG02aTEFo++BaQG05S70EZCdeqTTwSX1XmQTEJs+qS9gqUFXm5KvaghtRsBqmHDFIPGaQeMkg9ZJB6yCD1kGdIugMnhHOf6nE9fwAAAABJRU5ErkJggg==" y="480.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="120" x="386" y="563.2852">[Databricks, Synapse]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="444" y="580.4551"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="396" y="598.0645">192.168.16.0/20</text></g><!--MD5=[91731e06f16d30c0683ac1f11fb29b5a]
entity vnetHub--><g id="elem_vnetHub"><rect fill="#FFFFFF" height="205.7188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="216" x="961" y="291.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="1005.5" y="314.0664">«AzureVirtualNetwork»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1053" y="333.3125">Hub</text><image height="70" width="70" x="1034" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACv0lEQVR4Xu3XvY7UMBQF4LzkvAKvMK/AK1DSLi3dSLQ0FLQgbYEQBRIgCoQokM6ezV15PffaiX+yib3ykYvd5I59v8TKTCY8u0z6QP8ZpB4ySD1kkHrIIPWQQeohg9RDykk3H3+c33759fe/PlEXTshpObk+kZxCknhkbKgSj4xiVQnJ92yo8j01qmyS9cjQdfmxc5ap8kgxz6v333VpfjiJnblAlUF6Uo9kE1UqaQePpF6VRNrNI6lUrZN29khqVCukQzySYtUS6UCPpEwVJR3ukRSowqRGPJJcVYDUlEeSpdKkBj2SdNUVqVmPJFH1SMr13P78d/n8+8PXP6s/w1nAMhbzI/qciVTGpk1RPZBipUEPF3v57tuLN7ccp9efOOzdd+Epv5IfDPaK+RrxrL86YbooodV70mqRCk/5XcrgpdV1AA/aynPoTcR/WZKPyAje2OWGp9z9FuySg0d0KRCsDPr9NnwS75uqlCyoJnuUIzYR5rmCXXKoK8p/Y5V2o8qW8zHucqhKF7VL3QiQWGqXdCHJthgj2RoZdv4gSYpVpQsnCaom7gHr4bB7Q8LjtsVTZOPZMhl2crn51hPbL5xB+lQqHr9/PDiV8yyr3HrLXWK+kLbyHH88KM/J3HmJ8yiV9PDwEOc/yrOg4jL8vN/ljdlILkq1/BAXlVTyj+BDXHmcyrX6+FXLlWxpTIW5Azkba9FFvpQvaV+1Mm2sMujh8Hu4+kGUq9o5KR7Yn63NqhI9sCQ0qUr3IEhCY6osD2IkNKPK9WCBhAZUBR4sk3CoqsyDVRIOUhV7kELC7qoaDxJJ2FFV6UE6Cbuo6j3IIuGJVZt4kEtCXJW7sMqG02aTEFo++BaQG05S70EZCdeqTTwSX1XmQTEJs+qS9gqUFXm5KvaghtRsBqmHDFIPGaQeMkg9ZJB6yCD1kGdIugMnhHOf6nE9fwAAAABJRU5ErkJggg==" y="336.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="156" x="989.5" y="419.2852">[Azure Firewall, DNS servers</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="193" x="971" y="434.3789">(contoso.com), Private Link Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="1040" y="449.4727">Endpoints]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1067" y="466.6426"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1031" y="484.252">10.10.0.0/20</text></g><!--MD5=[20f20457c675c4c7da862e2a74080129]
entity vnetBridge--><g id="elem_vnetBridge"><rect fill="#FFFFFF" height="205.7188" rx="2.5" ry="2.5" style="stroke:#008000;stroke-width:2.0;" width="218" x="655" y="291.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47" x="740.5" y="314.0664">«island»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="51" x="738.5" y="333.3125">Bridge</text><image height="70" width="70" x="729" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACv0lEQVR4Xu3XvY7UMBQF4LzkvAKvMK/AK1DSLi3dSLQ0FLQgbYEQBRIgCoQokM6ezV15PffaiX+yib3ykYvd5I59v8TKTCY8u0z6QP8ZpB4ySD1kkHrIIPWQQeohg9RDykk3H3+c33759fe/PlEXTshpObk+kZxCknhkbKgSj4xiVQnJ92yo8j01qmyS9cjQdfmxc5ap8kgxz6v333VpfjiJnblAlUF6Uo9kE1UqaQePpF6VRNrNI6lUrZN29khqVCukQzySYtUS6UCPpEwVJR3ukRSowqRGPJJcVYDUlEeSpdKkBj2SdNUVqVmPJFH1SMr13P78d/n8+8PXP6s/w1nAMhbzI/qciVTGpk1RPZBipUEPF3v57tuLN7ccp9efOOzdd+Epv5IfDPaK+RrxrL86YbooodV70mqRCk/5XcrgpdV1AA/aynPoTcR/WZKPyAje2OWGp9z9FuySg0d0KRCsDPr9NnwS75uqlCyoJnuUIzYR5rmCXXKoK8p/Y5V2o8qW8zHucqhKF7VL3QiQWGqXdCHJthgj2RoZdv4gSYpVpQsnCaom7gHr4bB7Q8LjtsVTZOPZMhl2crn51hPbL5xB+lQqHr9/PDiV8yyr3HrLXWK+kLbyHH88KM/J3HmJ8yiV9PDwEOc/yrOg4jL8vN/ljdlILkq1/BAXlVTyj+BDXHmcyrX6+FXLlWxpTIW5Azkba9FFvpQvaV+1Mm2sMujh8Hu4+kGUq9o5KR7Yn63NqhI9sCQ0qUr3IEhCY6osD2IkNKPK9WCBhAZUBR4sk3CoqsyDVRIOUhV7kELC7qoaDxJJ2FFV6UE6Cbuo6j3IIuGJVZt4kEtCXJW7sMqG02aTEFo++BaQG05S70EZCdeqTTwSX1XmQTEJs+qS9gqUFXm5KvaghtRsBqmHDFIPGaQeMkg9ZJB6yCD1kGdIugMnhHOf6nE9fwAAAABJRU5ErkJggg==" y="336.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="195" x="665" y="419.2852">[Azure Firewall, Bastion, Application</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="162" x="681.5" y="434.3789">Gateway, Private Link Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="735" y="449.4727">Endpoints]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="762" y="466.6426"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="722" y="484.252">10.10.16.0/20</text></g><!--MD5=[7d1faec0bc72c6e1449dfd0e62b42952]
entity vnetSpoke--><g id="elem_vnetSpoke"><rect fill="#FFFFFF" height="175.5313" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="188" x="1269" y="306.6094"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="1299.5" y="329.0664">«AzureVirtualNetwork»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="49" x="1338.5" y="348.3125">Spoke</text><image height="70" width="70" x="1328" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACv0lEQVR4Xu3XvY7UMBQF4LzkvAKvMK/AK1DSLi3dSLQ0FLQgbYEQBRIgCoQokM6ezV15PffaiX+yib3ykYvd5I59v8TKTCY8u0z6QP8ZpB4ySD1kkHrIIPWQQeohg9RDykk3H3+c33759fe/PlEXTshpObk+kZxCknhkbKgSj4xiVQnJ92yo8j01qmyS9cjQdfmxc5ap8kgxz6v333VpfjiJnblAlUF6Uo9kE1UqaQePpF6VRNrNI6lUrZN29khqVCukQzySYtUS6UCPpEwVJR3ukRSowqRGPJJcVYDUlEeSpdKkBj2SdNUVqVmPJFH1SMr13P78d/n8+8PXP6s/w1nAMhbzI/qciVTGpk1RPZBipUEPF3v57tuLN7ccp9efOOzdd+Epv5IfDPaK+RrxrL86YbooodV70mqRCk/5XcrgpdV1AA/aynPoTcR/WZKPyAje2OWGp9z9FuySg0d0KRCsDPr9NnwS75uqlCyoJnuUIzYR5rmCXXKoK8p/Y5V2o8qW8zHucqhKF7VL3QiQWGqXdCHJthgj2RoZdv4gSYpVpQsnCaom7gHr4bB7Q8LjtsVTZOPZMhl2crn51hPbL5xB+lQqHr9/PDiV8yyr3HrLXWK+kLbyHH88KM/J3HmJ8yiV9PDwEOc/yrOg4jL8vN/ljdlILkq1/BAXlVTyj+BDXHmcyrX6+FXLlWxpTIW5Azkba9FFvpQvaV+1Mm2sMujh8Hu4+kGUq9o5KR7Yn63NqhI9sCQ0qUr3IEhCY6osD2IkNKPK9WCBhAZUBR4sk3CoqsyDVRIOUhV7kELC7qoaDxJJ2FFV6UE6Cbuo6j3IIuGJVZt4kEtCXJW7sMqG02aTEFo++BaQG05S70EZCdeqTTwSX1XmQTEJs+qS9gqUFXm5KvaghtRsBqmHDFIPGaQeMkg9ZJB6yCD1kGdIugMnhHOf6nE9fwAAAABJRU5ErkJggg==" y="351.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="168" x="1279" y="434.2852">[Custom API: api.contoso.com]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1361" y="451.4551"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1321" y="469.0645">10.10.32.0/20</text></g><!--MD5=[34401b1b2b1c65c3065057acf9755362]
link nameResolution to vnetIslandA--><g id="link_nameResolution_vnetIslandA"><path d="M296.4338,585.6903 C296.6431,585.5676 296.8519,585.4439 297.0602,585.3193 C297.4766,585.07 297.8908,584.8171 298.3027,584.5603 C299.9501,583.5334 301.5602,582.446 303.1283,581.2954 C306.2647,578.9943 309.2338,576.44 312,573.6094 C336.37,548.6694 313.72,448.9594 329,417.6094 C334.49,406.3394 341.59,395.5694 349.57,385.4694 " fill="none" id="nameResolution-to-vnetIslandA" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="352.79,381.4794,344.0282,385.9772,349.6526,385.3726,350.2573,390.997,352.79,381.4794" style="stroke:#666666;stroke-width:1.0;"/></g><!--MD5=[c6904f40d4a4b3c1860b6590efb950c1]
link nameResolution to vnetIslandB--><g id="link_nameResolution_vnetIslandB"><path d="M296.5694,577.1635 C296.8185,577.1107 297.0674,577.0578 297.3161,577.0047 C298.3111,576.7924 299.3035,576.5773 300.2929,576.3594 C304.2505,575.4879 308.1606,574.5719 312,573.6094 C331.52,568.7194 352.11,561.8594 371.1,554.7994 " fill="none" id="nameResolution-to-vnetIslandB" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="375.89,552.9994,366.058,552.4241,371.2101,554.7597,368.8745,559.9119,375.89,552.9994" style="stroke:#666666;stroke-width:1.0;"/></g><!--MD5=[76c8a48be149c5f0682e251f10739ca2]
link vnetIslandA to vnetBridge--><g id="link_vnetIslandA_vnetBridge"><path d="M544.37,332.3394 C577.68,341.8294 615.22,352.5194 649.68,362.3294 " fill="none" id="vnetIslandA-vnetBridge" style="stroke:#008000;stroke-width:2.0;"/><polygon fill="#008000" points="654.74,363.7794,647.1802,357.4667,649.9313,362.4095,644.9885,365.1606,654.74,363.7794" style="stroke:#008000;stroke-width:2.0;"/><polygon fill="#008000" points="539.25,330.8794,546.8098,337.192,544.0587,332.2492,549.0015,329.4981,539.25,330.8794" style="stroke:#008000;stroke-width:2.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="596" y="344.0664">Peer</text></g><!--MD5=[23afb38ca48cc1fe34d4ae0fbabfa7c5]
link vnetIslandB to vnetBridge--><g id="link_vnetIslandB_vnetBridge"><path d="M521.16,493.3394 C559.62,477.6394 607.41,458.1294 650.32,440.6094 " fill="none" id="vnetIslandB-vnetBridge" style="stroke:#008000;stroke-width:2.0;"/><polygon fill="#008000" points="654.99,438.6994,645.146,438.3907,650.3595,440.5859,648.1644,445.7994,654.99,438.6994" style="stroke:#008000;stroke-width:2.0;"/><polygon fill="#008000" points="516.35,495.2994,526.194,495.6081,520.9805,493.4129,523.1756,488.1993,516.35,495.2994" style="stroke:#008000;stroke-width:2.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="596" y="450.0664">Peer</text></g><!--MD5=[a525e6a3c036eff42b2df02c55c27f88]
link vnetBridge to vnetHub--><g id="link_vnetBridge_vnetHub"><path d="M878.15,394.6094 C903.57,394.6094 930.53,394.6094 955.9,394.6094 " fill="none" id="vnetBridge-vnetHub" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="960.95,394.6094,951.95,390.6094,955.95,394.6094,951.95,398.6094,960.95,394.6094" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="873.11,394.6094,882.11,398.6094,878.11,394.6094,882.11,390.6094,873.11,394.6094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="904" y="391.0664">Peer</text></g><!--MD5=[93dc89ee0a6d8eeaa56e587f43ef3075]
link vnetHub to vnetSpoke--><g id="link_vnetHub_vnetSpoke"><path d="M1182.39,394.6094 C1209.19,394.6094 1237.6,394.6094 1263.71,394.6094 " fill="none" id="vnetHub-vnetSpoke" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1268.9,394.6094,1259.9,390.6094,1263.9,394.6094,1259.9,398.6094,1268.9,394.6094" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1177.07,394.6094,1186.07,398.6094,1182.07,394.6094,1186.07,390.6094,1177.07,394.6094" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="1210" y="391.0664">Peer</text></g><!--MD5=[7aa395a70455e8cada550ffcfb0d55f6]
@startuml diagram-topology

!define AzurePuml https://raw.githubusercontent.com/travisnielsen/Azure-PlantUML/themesupport/dist

' Theme
' !includeurl AzurePuml/themes/blueprint.puml
!includeurl AzurePuml/AzureCommon.puml

' C4
' !includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Container.puml

!includeurl AzurePuml/Management/AzureSubscription.puml
!includeurl AzurePuml/Networking/AzureVirtualNetwork.puml
!includeurl AzurePuml/Networking/AzureDNS.puml
!includeurl AzurePuml/Networking/AzureVPNGateway.puml
!includeurl AzurePuml/Networking/AzureExpressRoute.puml

LAYOUT_LEFT_RIGHT

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> green
    BorderThickness<<island>> 2
    BackgroundColor<<island>> white

}

AzureSubscription(subscriptionIsland, "Workload Subscription A", "") {

    Rectangle "Name Resolution Services" as nameResolution {
        AzureDNS(dnsIslandPrivateZones, "Private DNS Zones", "storage, event hub, AppServices, etc..", "Automated support for Azure servcies with private links")
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
        AzureVirtualNetwork(vnetIslandA, "workload a", "AKS, Azure Functions, Virtual Machines", "192.168.0.0/20") <<island>> {
        }
        AzureVirtualNetwork(vnetIslandB, "workload b", "Databricks, Synapse", "192.168.16.0/20") <<island>> {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution-> vnetIslandB
}

AzureSubscription(subscriptionInfrastructure, "Infrastructure Subscription", "") {
    AzureVirtualNetwork(vnetBridge, "Bridge", "Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints", "10.10.16.0/20") <<island>> {
    }
    AzureVirtualNetwork(vnetHub, "Hub", "Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints", "10.10.0.0/20")
}

AzureSubscription(subscriptionSpoke, "Workload Subscription B", "") {
    AzureVirtualNetwork(vnetSpoke, "Spoke", "Custom API: api.contoso.com", "10.10.32.0/20")

}

vnetIslandA <-[thickness=2,#green]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#green]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

@startuml diagram-topology






skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}









sprite $AzureSubscription [70x70/16z] {
pTS5TeGX40JXmNhkV-9unSCFTAoUh7yFMujffRRUIdZrV4YEKvNKpn4860Cn612J0L4jKJhCAH8FjJEcfkwDP8S7p2OYfQHNGuFPGXuQmH5ExJ9LD5xV1REE
4FTrAPM2sKCOJ96qDHeGc18HJK-jZgReGqElOZHx26sDHXSncZf3cgIbqSWOojhIL2qpOsb2-NdYGNaAA_FJOobQR7vYT34OqVJ0rBKPAKVCQckAOjwOdXAk
bpXZ2CHYG2m6n690VAR6SiD4O4m4naHWJ0J6H60yX3uWlZB2KgWOYiMWP7vWN4NVeWnF0J4L45-9Rr6ghy3uYke_EY_jEvGUjf8WZfAPvL19PQRuBp9EbPSC
9Xtc-nKVYM4XL4q4naTWG2m6n6D0J6ODkGK
}

skinparam rectangle<<AzureSubscription>> {
    BackgroundColor #FFFFFF
    BorderColor #3C7FC0
}
sprite $AzureVirtualNetwork [70x70/16z] {
xTH9ikGW38JXH9QCuFu7RZTIuB3UbEiA_ol6h-R2f_VszcRUy6FDZKJymHJ4tJYaC0LX6FC8t-QHaSY9RpiBGo0ymoELOH2EuH6UgGZ9y0ZFL8HdU8HdAi8p
1C8m3C8p5H4z6dRjKC7TaPkLEPz8wsFCQSZi_wmtHDBzwa2zM17uTUrAiTAO-VttCgwaCbQGl3O7LZbBr5BfA8n77TavPYIuafpbA-m-LXDPzoWHsyfyAFCx
PMx5aj50J17fZ0PMCuljCv6EI2qOXIxaPXvl16pEnxkxa2aRMOm2q8LiHdo_WitSdxHVo3WsifYusEp1G4mRTg8gk1CJF11hG66uAa8m148m1C8mF58P7g4P
7gaCZ_0CZrI6HtY6Hoh38pnJ4OffVsnIp85lEmWacOfKfe6fgU37H1i-lRUtjty
}

skinparam rectangle<<AzureVirtualNetwork>> {
    BackgroundColor #FFFFFF
    BorderColor #3C7FC0
}
sprite $AzureDNS [70x70/16z] {
rPZfdgGm2CINX5JX-x_m_aGmoYHpVPlQdKlfVtF5aFxtDoHzW6Q74KFRhn1jsF4MVqeI3KGLVW0QHyXuouBB_Zr6lmauHTw_N23Jhnb2DoLEfGVvD-AcV07H
oym1W1sM8ioO7EkVEc8tu_n1U-WgUdBm1SGkHeLO_Wt0R-yWpPrr8xT-GUO59cOFeJiIRrq4JjukABaXQLarBn7SO7X1t96bA_FQ7ZEYEBEm7_MaE4ONIJ4G
mIa15RIRUH4AnHmI1hoTvrI4H0BPapKcd55wgpedNM8HNEdk-Q9MwiExtwVrWb0oR2MrVcqQ4AWYtvKZtWbELr80rted7NosyF3KJeY1MmfPd96aM765u4uW
YpCZ8BranVYfgZEFWDoL7MMFENkctok8M4Cm1a83UKa7QdwZGf5R5LVhWouL6G6Hvens6GI5p93Q8w0k7GFQHJf8ugHEYaEQGdkVAokgD5uKDOOr2AVqf81K
wJnL4vDfkIcyrFpLNRh8c9Gc8oYrrkOKAnI83ATqQKd1ceAPt4fX4tKAH7fGF484PQQNMugduA9udOB29g8W-NrAkoYUwQIWd_b-K-mxlc28Q5B8SNBmVOe6
1LraKaXqQQmK-oAxW2TuKhpW9IyRoX11KZp1GSbeQwMnwXUuAqb14s-RHxIbw-eAI4ZZWp94l7U38uAw0dfPZV3Lg20d1NfHfAaE5QchCROH9kLIZsfeKc9v
ndsjXOvIumWsC6Ry_aTeZ7X6AHRBA1CpnOUGsZynTUxquEwv-u8K2dEJdJl95C2TyAAyzbWjkne_fqox6L1M2GiA7hefLbr9uPqP0iH6j8qhwKpUPBvtLU4W
jf4oUeGV047ZIgXJq5XDP0J8d2PPTLqddJC7kp8TplVn7vNp6hyT4cF7Ey5S3Qeqzw8Cl3cfLl65oL_sm_VcA621sSwx15uGamL5tfZz19-GzkdnA2nt408s
FTbZk7G6M43sHy_i1nO8eyORI6dYu00i42RZG85KDRSobgLtztuvmcw5ZwTopbDvMJjxoJW2jFY4O1RuQwaTQs73sAWfFf3G__r2ec3vzEKFw3y
}

skinparam rectangle<<AzureDNS>> {
    BackgroundColor #FFFFFF
    BorderColor #3C7FC0
}
sprite $AzureVPNGateway [70x70/16z] {
xTXdOi8m38PXD3wP-v-uECNAKeILVnrlouO7cGsFB1PLCrCLVjoCrRRfBSWD3rGrnAAaYiIXY1IO0b9cnB9q3Y7Buoa5jWztxd0D7cgirJN5rqgmDQgCWc2X
ayES40_pmt1orlbdWYRdbFIX5u-ThdRs4IVfSYbNyaVev0t3-SoOKoHNjAXeuUH_vLz1uUHVhX0pAvOCu2Y5lV_uLOJeZSwJ05K3e42vSkGAWKHAp1253AuL
H4Z409a2d928mIS59-J408aIECBS3MQEa5W9n-bCC4YcU9SAAWfY1QWfGA2Whk2e03L5nPrLyLEc5NB6svwGA_R-Ko9Pzhapz4-ABGdtY3gpX3r2n4kvmkIf
Ct34AogzeV2iejBZ3T9URHYMfKJnT8lqp1d1fbp1GBw1lZEOYh8YhQzY7KSBYXkhukEa2iV8LcbMKjnmPLHJMekLPWMbdHLlMcdj-GxZrLkUesPJIYSyeINU
7jbInUSuCOuuaoi7epEERB942OpES71qkr1yCQVYeorIA33o6eBV2lHPRXtb2m
}

skinparam rectangle<<AzureVPNGateway>> {
    BackgroundColor #FFFFFF
    BorderColor #3C7FC0
}
sprite $AzureExpressRoute [70x70/16z] {
xTO7RiOW30LWLXoRtF- -5GqnfbhkexkyVuzyOig4tvATdPsKSrer3ddDiM94qSGbP9qvhNAYuofJm34cQIaX51rXj4EdUOShXyxtkTeMHXLTSHGZwRXysnnn
jKXb3BbgDKYz64AkpdJakXX1MfYRmSyd3A4so6rOIHa4qIW38JWp49on2CuC16SiWZC3mHcBuCn0OCOY41DJcX0dar8Ccd9lEL74nSXzLUdjuB7zE-9WQfKU
Zc_AQEs8WwbpyMMn30LNo2B28Oi0DJtAbDohH8ndxvChzIaolThSpytdzofy5tDDrbBeLRHOcX4vyBPeb-x6430kJrEeo9ISNCaofSphXVmd91EUfvw3EomZ
SHfbZdubyZp38PBE572WfcYFwH4u3-lX_gTaPsVd1G
}

skinparam rectangle<<AzureExpressRoute>> {
    BackgroundColor #FFFFFF
    BorderColor #3C7FC0
}

left to right direction

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> green
    BorderThickness<<island>> 2
    BackgroundColor<<island>> white

}

rectangle "==Workload Subscription A\n<color:#0072C6><$AzureSubscription></color>\n//<size:12>[]</size>//" <<AzureSubscription>> as subscriptionIsland {

    Rectangle "Name Resolution Services" as nameResolution {
        rectangle "==Private DNS Zones\n<color:#0072C6><$AzureDNS></color>\n//<size:12>[storage, event hub, AppServices, etc..]</size>//\n\n Automated support for Azure servcies with private links" <<AzureDNS>> as dnsIslandPrivateZones
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
        rectangle "==workload a\n<color:#0072C6><$AzureVirtualNetwork></color>\n//<size:12>[AKS, Azure Functions, Virtual Machines]</size>//\n\n 192.168.0.0/20" <<AzureVirtualNetwork>> as vnetIslandA <<island>> {
        }
        rectangle "==workload b\n<color:#0072C6><$AzureVirtualNetwork></color>\n//<size:12>[Databricks, Synapse]</size>//\n\n 192.168.16.0/20" <<AzureVirtualNetwork>> as vnetIslandB <<island>> {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution-> vnetIslandB
}

rectangle "==Infrastructure Subscription\n<color:#0072C6><$AzureSubscription></color>\n//<size:12>[]</size>//" <<AzureSubscription>> as subscriptionInfrastructure {
    rectangle "==Bridge\n<color:#0072C6><$AzureVirtualNetwork></color>\n//<size:12>[Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints]</size>//\n\n 10.10.16.0/20" <<AzureVirtualNetwork>> as vnetBridge <<island>> {
    }
    rectangle "==Hub\n<color:#0072C6><$AzureVirtualNetwork></color>\n//<size:12>[Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints]</size>//\n\n 10.10.0.0/20" <<AzureVirtualNetwork>> as vnetHub
}

rectangle "==Workload Subscription B\n<color:#0072C6><$AzureSubscription></color>\n//<size:12>[]</size>//" <<AzureSubscription>> as subscriptionSpoke {
    rectangle "==Spoke\n<color:#0072C6><$AzureVirtualNetwork></color>\n//<size:12>[Custom API: api.contoso.com]</size>//\n\n 10.10.32.0/20" <<AzureVirtualNetwork>> as vnetSpoke

}

vnetIslandA <-[thickness=2,#green]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#green]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

PlantUML version 1.2022.8(Sun Sep 25 04:00:33 CDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>