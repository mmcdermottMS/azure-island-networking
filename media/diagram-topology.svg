<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="933.3333px" preserveAspectRatio="none" style="width:2071px;height:933px;background:#282A36;" version="1.1" viewBox="0 0 2071 933" width="2071.875px" zoomAndPan="magnify"><defs/><g><rect fill="#282A36" height="51.7415" id="_title" rx="4.1667" ry="4.1667" style="stroke:#282A36;stroke-width:0.0;" width="288.5417" x="886.9792" y="20.8333"/><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" font-weight="bold" lengthAdjust="spacing" textLength="265.625" x="898.4375" y="56.0811">Island Network Topology</text><!--MD5=[4f80334fb3381e44c6b0cccb474a8532]
cluster subscriptionIsland--><g id="cluster_subscriptionIsland"><rect fill="#44475A" height="831.25" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="808.3333" x="17.7083" y="91.3249"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="361.4583" y="111.5926">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="288.5417" x="277.6042" y="150.708">Cloud Native Workloads</text><image height="72.9167" width="72.9167" x="385.4167" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAAB/klEQVR4Xu3ZS2rEMBCE4TlcQe4QCOQGWQ45QA6gbHPZGLwxtB7dUpUazMBPFomF9CHbY08eeHvX9fH5dfT8/jl+2r+KethfUToY5ffPZo+kxycdG2Il1w6tHUWMTBp6NqiYJKdHraKRQh6pikNqea43uuoNQ6EikFoe55F01Sqpusqq52zDXi2RWp4OqTWEqJontRY3XJ893jPK3ySp4+kvbnqgvxlSf1lndtRZ9Vq6tq4KkzyezsrskbbWWGcxktNTXdnK2FAxkp3b0/BkqzatCpDsrOrmVF6SnW9P10cqZy5S6DKgZ9fTz0Wy0+wsevqNSblbVG5JKsFz70VKyq6q05iE+90ekE2KfjS5SInnXnSL4CQhT2VXMsxLguNVh55dg6cACXtVdnZnMRJ2qey8/sIk6FV2xlAzJChVdq5okyRoVNGPoGrzJLBVFA8WSeCpWB6sk8BQET2gkLCm4nrAImFWRfeASEJcpfCAS0LkNUTkQRZp4pXBXw6pMJ4SWqWRdKpMkkiVTCoCVTJJcZ/IJCk8SCSJPEgk2bGs0kh3e3qQqjJJIlUyqQguqmTS3XZJdB9PI4k8SCTZsazSSDfcJZ0qkyRSvUij7KI7KTygk/xf5Yk8oJOc/6XWeUAnwaGSeqAgoatSeyAioaHa4IGOBKPa44GUhItqm+foH1luJtVLBa1xAAAAAElFTkSuQmCC" y="156.2012"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="13.5417" x="415.1042" y="248.5819">[]</text></g><!--MD5=[6a6dfeeb3653cbfb709c9a533a96c1cd]
cluster nameResolution--><g id="cluster_nameResolution"><rect fill="#282A36" height="568.75" rx="4.1667" ry="4.1667" style="stroke:#F8F8F2;stroke-width:2.0833333333333335;" width="383.3333" x="51.0417" y="291.3249"/><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" font-weight="bold" lengthAdjust="spacing" textLength="280.2083" x="102.6042" y="322.406">Name Resolution Services</text></g><!--MD5=[874d2f2ba8edd7664b15b448ce929b47]
cluster subscriptionInfrastructure--><g id="cluster_subscriptionInfrastructure"><rect fill="#44475A" height="502.0833" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="765.625" x="898.9583" y="240.2832"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="1221.3542" y="260.5509">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="333.3333" x="1115.1042" y="299.6663">Core Infrastructure Services</text><image height="72.9167" width="72.9167" x="1245.3125" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAAB/klEQVR4Xu3ZS2rEMBCE4TlcQe4QCOQGWQ45QA6gbHPZGLwxtB7dUpUazMBPFomF9CHbY08eeHvX9fH5dfT8/jl+2r+KethfUToY5ffPZo+kxycdG2Il1w6tHUWMTBp6NqiYJKdHraKRQh6pikNqea43uuoNQ6EikFoe55F01Sqpusqq52zDXi2RWp4OqTWEqJontRY3XJ893jPK3ySp4+kvbnqgvxlSf1lndtRZ9Vq6tq4KkzyezsrskbbWWGcxktNTXdnK2FAxkp3b0/BkqzatCpDsrOrmVF6SnW9P10cqZy5S6DKgZ9fTz0Wy0+wsevqNSblbVG5JKsFz70VKyq6q05iE+90ekE2KfjS5SInnXnSL4CQhT2VXMsxLguNVh55dg6cACXtVdnZnMRJ2qey8/sIk6FV2xlAzJChVdq5okyRoVNGPoGrzJLBVFA8WSeCpWB6sk8BQET2gkLCm4nrAImFWRfeASEJcpfCAS0LkNUTkQRZp4pXBXw6pMJ4SWqWRdKpMkkiVTCoCVTJJcZ/IJCk8SCSJPEgk2bGs0kh3e3qQqjJJIlUyqQguqmTS3XZJdB9PI4k8SCTZsazSSDfcJZ0qkyRSvUij7KI7KTygk/xf5Yk8oJOc/6XWeUAnwaGSeqAgoatSeyAioaHa4IGOBKPa44GUhItqm+foH1luJtVLBa1xAAAAAElFTkSuQmCC" y="305.1595"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="13.5417" x="1275" y="397.5403">[]</text></g><!--MD5=[59a58b1e555f596f3ae3b558401dd421]
cluster subscriptionSpoke--><g id="cluster_subscriptionSpoke"><rect fill="#44475A" height="454.1667" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="322.9167" x="1737.5" y="264.2415"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="1838.5417" y="284.5093">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="201.0417" x="1798.4375" y="323.6247">Hybrid Workload</text><image height="72.9167" width="72.9167" x="1862.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAAB/klEQVR4Xu3ZS2rEMBCE4TlcQe4QCOQGWQ45QA6gbHPZGLwxtB7dUpUazMBPFomF9CHbY08eeHvX9fH5dfT8/jl+2r+KethfUToY5ffPZo+kxycdG2Il1w6tHUWMTBp6NqiYJKdHraKRQh6pikNqea43uuoNQ6EikFoe55F01Sqpusqq52zDXi2RWp4OqTWEqJontRY3XJ893jPK3ySp4+kvbnqgvxlSf1lndtRZ9Vq6tq4KkzyezsrskbbWWGcxktNTXdnK2FAxkp3b0/BkqzatCpDsrOrmVF6SnW9P10cqZy5S6DKgZ9fTz0Wy0+wsevqNSblbVG5JKsFz70VKyq6q05iE+90ekE2KfjS5SInnXnSL4CQhT2VXMsxLguNVh55dg6cACXtVdnZnMRJ2qey8/sIk6FV2xlAzJChVdq5okyRoVNGPoGrzJLBVFA8WSeCpWB6sk8BQET2gkLCm4nrAImFWRfeASEJcpfCAS0LkNUTkQRZp4pXBXw6pMJ4SWqWRdKpMkkiVTCoCVTJJcZ/IJCk8SCSJPEgk2bGs0kh3e3qQqjJJIlUyqQguqmTS3XZJdB9PI4k8SCTZsazSSDfcJZ0qkyRSvUij7KI7KTygk/xf5Yk8oJOc/6XWeUAnwaGSeqAgoatSeyAioaHa4IGOBKPa44GUhItqm+foH1luJtVLBa1xAAAAAElFTkSuQmCC" y="329.1178"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="13.5417" x="1892.1875" y="421.4986">[]</text></g><!--MD5=[b112037bf681ddd4b63dd5e0fb3149a9]
entity dnsIslandPrivateZones--><g id="elem_dnsIslandPrivateZones"><rect fill="#282A36" height="305.8757" rx="4.1667" ry="4.1667" style="stroke:#8BE9FD;stroke-width:2.0833333333333335;" width="333.3333" x="76.0417" y="357.9915"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="76.0417" x="204.6875" y="386.5926">«AzureDNS»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="221.875" x="131.7708" y="425.708">Private DNS Zones</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="241.6667" y="439.8519"> </text><image height="72.9167" width="72.9167" x="206.25" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAAEi0lEQVR4Xt2Z0ZHbOBBEHQ7KATgCXQKIQBFcAhfCBXAhXJpmGbut0byZASiBdtlV/SECg+l+JEituF/a129/mL5w6HfXJUjf/uq3+9/9n38P3f/7Xxojx9Sho4YLt2gb0sCwACsahHvxNiC9QBLqwNvC9hZSDTO2WSbWa9WbYC8iHa5MM8XIxD6HjvNF3xW9gsQQTMmaaT2XHCN0n+ocEncaA4XhKC7JwM7uwxNIYSYXgiOFWBn2HOPMk2kVKUxDYw4WyurD8XWqORKfBPSrxwtlS96hmiA5ntBpOlWrWMWpFaoJEg3W7RdVL6TplKpCco0K73q21nQtC2qqFMk+r9U0My6mVlQvD92LL+IYKbuF2NoWuMF1ZctrX8aukNi38Aj9wmKudZXZKiYZh0weI9HMBs1cXRlnX1NorcPwD4sAKVsfdr9ItHOmGmF+j8SnAvuGHrtEi9BRh3xOeKRsZSZmelO0oGxlxx31hHT2Eqlsu2hEUx1WSNmaTIyyS/QKrcdnt/ceSPa76FTfi0Q7WuswRnK7jl0o5tgrOjp3fbZP8weSKlbaqazWeGXHcc1y0C4cBbS2AfQ5QApLrfi4bD+2q30R6WKNmmL2WOvG+e3JH2xhTtV/ILkbievvnxd3hBgpb+atIsPZU+CmNOtWycL2fxHptnAjDb9R6fJZWskiZcB2nCNDTCLZWZ3cDyTNFV2E5CyHSKURnTVbT4CsP5NItkBn8AMpLHLKLCUXXUik7Rcg9c8AO5FcgSUZLhaASDrNri2ThGnlshPJpbRIiqvlRNISujAM0/afjMTDEEllQ5plmDDtz0ZyFypDGlMWrCd5mPYqJBU4JI2MlAWSqx81zMO0+5FcAZH683OCs5R6Mo9Lq+bbkLSvXBoX2m4/zlIqYx6XtjskO6HPTjUSZ0MkOx7OOmkzM49Lq5P1yh9ENA7zhYPdXKhw1mmU9SSSHR92DyR7ZbP1jHgzjyaist4uJNI4vH3+rLA1DDNydjwbHkht4XZSeqcwtHJnswQO+2dbjjm15ASSDcRrEqouG5ciHNQ4Y4Q5e/gT0J6PupfteKlo6gLos3bpE5K7naYdVXad6OisdWg37QOpLew9J4bYKzo6ax1aiickt/fqpqq5SLRzvjq0u84jtZMXijl2iV701aFD8Ei2dNqdUbaIRjTVobtEAVJbu1DMsV00DVMxf4BU31H0Vg0H31fNw0sUIzVzoWyX0IzermxF7MMCm0Ri8hTJ/VkVGrjZcHBFRRP2sVOMXSG16DkRWmqW47ZAZfrMDkUTFoRbboLUtlLVqpfTuuM/f1YVUotuqtA7G19R0TabZU6rCVK7nmra002Fv0Gs5kjtmUpOK4NThaGLcWajlpBaQuUsOTJVuCRsfl/jaetIDS8AZKzxLEom1rOnxDyZTiC16GezC5EFosJV4dpePt+oc0gN38IuX5FsWh8umT4MqNNIQ6F9kbUW+9zLL9NaLyINcR+u47He6oWLI72FNFSDnVJPXn2d0gakofFWcXr6Q20hkbYhOU1fxHX8H2mXrkL6hfoDkb4DJQ4DO/OBfrgAAAAASUVORK5CYII=" y="441.6829"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="282.2917" x="98.9583" y="534.0637">[storage, event hub, AppServices,</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="40.625" x="222.3958" y="557.6477">etc..]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="239.5833" y="585.557"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="289.5833" x="97.9167" y="614.3819">Automated support for Azure</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="251.0417" x="117.1875" y="643.2068">servcies with private links</text></g><!--MD5=[01b3b70f2db638f756c722fee7cd1807]
entity dnsPrivateResolver--><g id="elem_dnsPrivateResolver"><rect fill="#282A36" height="115.0391" rx="4.1667" ry="4.1667" style="stroke:#8BE9FD;stroke-width:2.0833333333333335;" width="253.125" x="116.1458" y="700.6999"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="128.125" x="178.6458" y="729.3009">«PrivateDnsResolver»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="221.875" x="131.7708" y="766.2537">DNS Private Resolver</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="131.25" x="177.0833" y="795.0785">contoso.com</text></g><!--MD5=[fcae704fdc49b60d5a89b38f66ebe55c]
entity vnetIslandA--><g id="elem_vnetIslandA"><rect fill="#282A36" height="277.0508" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="290.625" x="493.75" y="313.1999"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="572.9167" y="341.8009">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="131.25" x="573.4375" y="380.9163">workload a</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="638.0208" y="395.0602"> </text><image height="72.9167" width="72.9167" x="602.6042" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACf0lEQVR4Xu2XQU7DMBBFexyLA3ADxJY7wI5TwIJjBHGPcDfcThmC/4zjGbtpXFl6QiKZ/PmvDW04hLv7G+OAh3pnKPXAUOqBodQDQ6kHhlIPDKUe8Cs9v7xOn194vJ4YG8PxeCFOJfIh8GwNHOu28igtfdpaJbE+K7MS+rSywkyflU1J83l7/8BhKzEEkx1WBqWL+hBNrEqVNvAh6q2KlDbzISqt1pU29iFqrFaUruJDuK1ySlf0IXxWqtLVfQiHlay0Ex/CaiUo7cqHMFmlSjv0Icqt/int1ocotPpTsvo8PD7FS+JPPIWUD+cnS6zOStqo5sPz8/ccwXef4VeKJrXAcJJJaohiq1WPSqtDCTxALTNWiQ8xKf+JYIHJZXWw3m9iS62oOCn6W2tkrA54NBPEWdgykryi8VdtEpW0inEYO+QvEZTiKK5cBmFFTQlnCMwX+9EwdiBiiHhVeuORD4EpFIQVZ+XGwzECw7EcTWr3C5dMLoxHjh8PbLX0yVjxvnxLSsZJUZ5iE58Z3nmOXcJW1OH8IU4nklHNCv9IxDFOXk5qrzrHcvKkfNxhQy5PA+nTgwjmht/vRO2sOClWFIe1SeyGHYRnPBFM3x5sJXZLlcqv3Bjso7USlEzXbwM2yfSRlawpFwU75JuoSsGedQlw+2qHnFJwJTYE95ZsX1EK3tx6cGPh3nWlUJHuBneVbyxSCnU7rOAW065SpVC9qRDMt24xKIUW+/JgsiPfphQabRXBTF+yWSkou3HMCmb6Yj1KAdZrD84m+IG9xie4lcLCqokPsbTCs4X4lcLJqqEPQVZ4vJwqpX0ylHpgKPXAUOqBodQDQ6kHhlIP3KDSDyMt0OzJRHUdAAAAAElFTkSuQmCC" y="396.8913"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="254.1667" x="509.375" y="489.2721">[AKS, Azure Functions, Virtual</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="595.3125" y="512.856">Machines]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="635.9375" y="540.7654"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="150" x="567.1875" y="569.5903">192.168.0.0/20</text></g><!--MD5=[61d4ba4c33d76f1084cbd93e321717dd]
entity vnetIslandB--><g id="elem_vnetIslandB"><rect fill="#282A36" height="253.4668" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="214.5833" x="531.7708" y="627.2624"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="572.9167" y="655.8634">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="133.3333" x="572.3958" y="694.9788">workload b</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="638.0208" y="709.1227"> </text><image height="72.9167" width="72.9167" x="602.6042" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACf0lEQVR4Xu2XQU7DMBBFexyLA3ADxJY7wI5TwIJjBHGPcDfcThmC/4zjGbtpXFl6QiKZ/PmvDW04hLv7G+OAh3pnKPXAUOqBodQDQ6kHhlIPDKUe8Cs9v7xOn194vJ4YG8PxeCFOJfIh8GwNHOu28igtfdpaJbE+K7MS+rSywkyflU1J83l7/8BhKzEEkx1WBqWL+hBNrEqVNvAh6q2KlDbzISqt1pU29iFqrFaUruJDuK1ySlf0IXxWqtLVfQiHlay0Ex/CaiUo7cqHMFmlSjv0Icqt/int1ocotPpTsvo8PD7FS+JPPIWUD+cnS6zOStqo5sPz8/ccwXef4VeKJrXAcJJJaohiq1WPSqtDCTxALTNWiQ8xKf+JYIHJZXWw3m9iS62oOCn6W2tkrA54NBPEWdgykryi8VdtEpW0inEYO+QvEZTiKK5cBmFFTQlnCMwX+9EwdiBiiHhVeuORD4EpFIQVZ+XGwzECw7EcTWr3C5dMLoxHjh8PbLX0yVjxvnxLSsZJUZ5iE58Z3nmOXcJW1OH8IU4nklHNCv9IxDFOXk5qrzrHcvKkfNxhQy5PA+nTgwjmht/vRO2sOClWFIe1SeyGHYRnPBFM3x5sJXZLlcqv3Bjso7USlEzXbwM2yfSRlawpFwU75JuoSsGedQlw+2qHnFJwJTYE95ZsX1EK3tx6cGPh3nWlUJHuBneVbyxSCnU7rOAW065SpVC9qRDMt24xKIUW+/JgsiPfphQabRXBTF+yWSkou3HMCmb6Yj1KAdZrD84m+IG9xie4lcLCqokPsbTCs4X4lcLJqqEPQVZ4vJwqpX0ylHpgKPXAUOqBodQDQ6kHhlIP3KDSDyMt0OzJRHUdAAAAAElFTkSuQmCC" y="710.9538"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="183.3333" x="547.3958" y="803.3346">[Databricks, Synapse]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="635.9375" y="831.2439"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="162.5" x="560.9375" y="860.0688">192.168.16.0/20</text></g><!--MD5=[91731e06f16d30c0683ac1f11fb29b5a]
entity vnetHub--><g id="elem_vnetHub"><rect fill="#282A36" height="300.6348" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:2.0833333333333335;" width="334.375" x="1313.5417" y="424.1374"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1414.5833" y="452.7384">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="48.9583" x="1456.25" y="491.8538">Hub</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1479.6875" y="505.9977"> </text><image height="72.9167" width="72.9167" x="1444.2708" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACf0lEQVR4Xu2XQU7DMBBFexyLA3ADxJY7wI5TwIJjBHGPcDfcThmC/4zjGbtpXFl6QiKZ/PmvDW04hLv7G+OAh3pnKPXAUOqBodQDQ6kHhlIPDKUe8Cs9v7xOn194vJ4YG8PxeCFOJfIh8GwNHOu28igtfdpaJbE+K7MS+rSywkyflU1J83l7/8BhKzEEkx1WBqWL+hBNrEqVNvAh6q2KlDbzISqt1pU29iFqrFaUruJDuK1ySlf0IXxWqtLVfQiHlay0Ex/CaiUo7cqHMFmlSjv0Icqt/int1ocotPpTsvo8PD7FS+JPPIWUD+cnS6zOStqo5sPz8/ccwXef4VeKJrXAcJJJaohiq1WPSqtDCTxALTNWiQ8xKf+JYIHJZXWw3m9iS62oOCn6W2tkrA54NBPEWdgykryi8VdtEpW0inEYO+QvEZTiKK5cBmFFTQlnCMwX+9EwdiBiiHhVeuORD4EpFIQVZ+XGwzECw7EcTWr3C5dMLoxHjh8PbLX0yVjxvnxLSsZJUZ5iE58Z3nmOXcJW1OH8IU4nklHNCv9IxDFOXk5qrzrHcvKkfNxhQy5PA+nTgwjmht/vRO2sOClWFIe1SeyGHYRnPBFM3x5sJXZLlcqv3Bjso7USlEzXbwM2yfSRlawpFwU75JuoSsGedQlw+2qHnFJwJTYE95ZsX1EK3tx6cGPh3nWlUJHuBneVbyxSCnU7rOAW065SpVC9qRDMt24xKIUW+/JgsiPfphQabRXBTF+yWSkou3HMCmb6Yj1KAdZrD84m+IG9xie4lcLCqokPsbTCs4X4lcLJqqEPQVZ4vJwqpX0ylHpgKPXAUOqBodQDQ6kHhlIP3KDSDyMt0OzJRHUdAAAAAElFTkSuQmCC" y="507.8288"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="242.7083" x="1356.7708" y="600.2096">[Azure Firewall, DNS servers</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="297.9167" x="1329.1667" y="623.7935">(contoso.com), Private Link Service</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="89.5833" x="1435.9375" y="647.3775">Endpoints]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1477.6042" y="675.2869"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="125" x="1421.3542" y="704.1117">10.10.0.0/20</text></g><!--MD5=[20f20457c675c4c7da862e2a74080129]
entity vnetBridge--><g id="elem_vnetBridge"><rect fill="#282A36" height="300.6348" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="341.6667" x="915.625" y="424.1374"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1020.3125" y="452.7384">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="79.1667" x="1046.875" y="491.8538">Bridge</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1085.4167" y="505.9977"> </text><image height="72.9167" width="72.9167" x="1050" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACf0lEQVR4Xu2XQU7DMBBFexyLA3ADxJY7wI5TwIJjBHGPcDfcThmC/4zjGbtpXFl6QiKZ/PmvDW04hLv7G+OAh3pnKPXAUOqBodQDQ6kHhlIPDKUe8Cs9v7xOn194vJ4YG8PxeCFOJfIh8GwNHOu28igtfdpaJbE+K7MS+rSywkyflU1J83l7/8BhKzEEkx1WBqWL+hBNrEqVNvAh6q2KlDbzISqt1pU29iFqrFaUruJDuK1ySlf0IXxWqtLVfQiHlay0Ex/CaiUo7cqHMFmlSjv0Icqt/int1ocotPpTsvo8PD7FS+JPPIWUD+cnS6zOStqo5sPz8/ccwXef4VeKJrXAcJJJaohiq1WPSqtDCTxALTNWiQ8xKf+JYIHJZXWw3m9iS62oOCn6W2tkrA54NBPEWdgykryi8VdtEpW0inEYO+QvEZTiKK5cBmFFTQlnCMwX+9EwdiBiiHhVeuORD4EpFIQVZ+XGwzECw7EcTWr3C5dMLoxHjh8PbLX0yVjxvnxLSsZJUZ5iE58Z3nmOXcJW1OH8IU4nklHNCv9IxDFOXk5qrzrHcvKkfNxhQy5PA+nTgwjmht/vRO2sOClWFIe1SeyGHYRnPBFM3x5sJXZLlcqv3Bjso7USlEzXbwM2yfSRlawpFwU75JuoSsGedQlw+2qHnFJwJTYE95ZsX1EK3tx6cGPh3nWlUJHuBneVbyxSCnU7rOAW065SpVC9qRDMt24xKIUW+/JgsiPfphQabRXBTF+yWSkou3HMCmb6Yj1KAdZrD84m+IG9xie4lcLCqokPsbTCs4X4lcLJqqEPQVZ4vJwqpX0ylHpgKPXAUOqBodQDQ6kHhlIP3KDSDyMt0OzJRHUdAAAAAElFTkSuQmCC" y="507.8288"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="305.2083" x="931.25" y="600.2096">[Azure Firewall, Bastion, Application</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="253.125" x="957.2917" y="623.7935">Gateway, Private Link Service</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="89.5833" x="1041.6667" y="647.3775">Endpoints]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1083.3333" y="675.2869"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="137.5" x="1020.8333" y="704.1117">10.10.16.0/20</text></g><!--MD5=[7d1faec0bc72c6e1449dfd0e62b42952]
entity vnetSpoke--><g id="elem_vnetSpoke"><rect fill="#282A36" height="253.4668" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:2.0833333333333335;" width="289.5833" x="1754.1667" y="448.0957"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1832.8125" y="476.6968">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="75" x="1861.4583" y="515.8122">Spoke</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1897.9167" y="529.9561"> </text><image height="72.9167" width="72.9167" x="1862.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACf0lEQVR4Xu2XQU7DMBBFexyLA3ADxJY7wI5TwIJjBHGPcDfcThmC/4zjGbtpXFl6QiKZ/PmvDW04hLv7G+OAh3pnKPXAUOqBodQDQ6kHhlIPDKUe8Cs9v7xOn194vJ4YG8PxeCFOJfIh8GwNHOu28igtfdpaJbE+K7MS+rSywkyflU1J83l7/8BhKzEEkx1WBqWL+hBNrEqVNvAh6q2KlDbzISqt1pU29iFqrFaUruJDuK1ySlf0IXxWqtLVfQiHlay0Ex/CaiUo7cqHMFmlSjv0Icqt/int1ocotPpTsvo8PD7FS+JPPIWUD+cnS6zOStqo5sPz8/ccwXef4VeKJrXAcJJJaohiq1WPSqtDCTxALTNWiQ8xKf+JYIHJZXWw3m9iS62oOCn6W2tkrA54NBPEWdgykryi8VdtEpW0inEYO+QvEZTiKK5cBmFFTQlnCMwX+9EwdiBiiHhVeuORD4EpFIQVZ+XGwzECw7EcTWr3C5dMLoxHjh8PbLX0yVjxvnxLSsZJUZ5iE58Z3nmOXcJW1OH8IU4nklHNCv9IxDFOXk5qrzrHcvKkfNxhQy5PA+nTgwjmht/vRO2sOClWFIe1SeyGHYRnPBFM3x5sJXZLlcqv3Bjso7USlEzXbwM2yfSRlawpFwU75JuoSsGedQlw+2qHnFJwJTYE95ZsX1EK3tx6cGPh3nWlUJHuBneVbyxSCnU7rOAW065SpVC9qRDMt24xKIUW+/JgsiPfphQabRXBTF+yWSkou3HMCmb6Yj1KAdZrD84m+IG9xie4lcLCqokPsbTCs4X4lcLJqqEPQVZ4vJwqpX0ylHpgKPXAUOqBodQDQ6kHhlIP3KDSDyMt0OzJRHUdAAAAAElFTkSuQmCC" y="531.7871"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="258.3333" x="1769.7917" y="624.1679">[Custom API: api.contoso.com]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1895.8333" y="652.0772"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="137.5" x="1833.3333" y="680.9021">10.10.32.0/20</text></g><!--MD5=[34401b1b2b1c65c3065057acf9755362]
link nameResolution to vnetIslandA--><g id="link_nameResolution_vnetIslandA"><path d="M277.0484,860.0945 C277.3032,860.1461 277.559,860.1978 277.816,860.2494 C278.8438,860.4559 279.8893,860.6618 280.9517,860.8664 C285.2013,861.6852 289.7208,862.485 294.459,863.229 C303.9355,864.717 314.2871,865.9818 325.1042,866.7285 C368.3724,869.7155 419.0885,864.4134 451.0417,831.9499 C485.8958,796.5332 447.1042,653.7624 468.75,609.0332 C474.6875,596.7624 482.0313,584.9707 490.3125,573.7624 " fill="none" id="nameResolution-to-vnetIslandA" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="493.6563,569.3249,484.678,574.289,490.5146,573.479,491.3246,579.3156,493.6563,569.3249" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/></g><!--MD5=[c6904f40d4a4b3c1860b6590efb950c1]
link nameResolution to vnetIslandB--><g id="link_nameResolution_vnetIslandB"><path d="M435.2581,835.5949 C435.6137,835.5193 435.9691,835.4433 436.3242,835.3669 C437.0343,835.2142 437.7433,835.0601 438.451,834.9046 C439.8665,834.5935 441.277,834.2769 442.682,833.9544 C445.492,833.3095 448.2799,832.6416 451.0417,831.9499 C476.1563,825.6582 502.2813,816.5228 526.7708,806.7103 " fill="none" id="nameResolution-to-vnetIslandB" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="531.6354,804.7415,521.3812,804.42,526.812,806.7066,524.5254,812.1374,531.6354,804.7415" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/></g><!--MD5=[76c8a48be149c5f0682e251f10739ca2]
link vnetIslandA to vnetBridge--><g id="link_vnetIslandA_vnetBridge"><path d="M789.7917,493.054 C828.3854,503.7103 870.2708,515.2728 910.0417,526.252 " fill="none" id="vnetIslandA-vnetBridge" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="915.3854,527.7207,907.4746,521.1884,910.3686,526.3214,905.2356,529.2153,915.3854,527.7207" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="784.375,491.5645,792.3087,498.0689,789.3967,492.9462,794.5195,490.0342,784.375,491.5645" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="848.9583" y="501.1759">Peer</text></g><!--MD5=[23afb38ca48cc1fe34d4ae0fbabfa7c5]
link vnetIslandB to vnetBridge--><g id="link_vnetIslandB_vnetBridge"><path d="M751.5521,708.9811 C799.6771,689.627 857.125,666.5124 910.6875,644.9603 " fill="none" id="vnetIslandB-vnetBridge" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="915.5208,643.0124,905.2679,642.6527,910.6902,644.9595,908.3833,650.3817,915.5208,643.0124" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="746.4896,711.0228,756.7425,711.3825,751.3203,709.0757,753.6271,703.6534,746.4896,711.0228" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="848.9583" y="650.1343">Peer</text></g><!--MD5=[a525e6a3c036eff42b2df02c55c27f88]
link vnetBridge to vnetHub--><g id="link_vnetBridge_vnetHub"><path d="M1262.7396,574.6582 C1277.7292,574.6582 1292.875,574.6582 1307.8333,574.6582 " fill="none" id="vnetBridge-vnetHub" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1313.3333,574.6582,1303.9583,570.4915,1308.125,574.6582,1303.9583,578.8249,1313.3333,574.6582" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1257.5208,574.6582,1266.8958,578.8249,1262.7292,574.6582,1266.8958,570.4915,1257.5208,574.6582" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="1271.875" y="565.7593">Peer</text></g><!--MD5=[93dc89ee0a6d8eeaa56e587f43ef3075]
link vnetHub to vnetSpoke--><g id="link_vnetHub_vnetSpoke"><path d="M1653.3958,574.6582 C1685.0208,574.6582 1717.8125,574.6582 1748.7083,574.6582 " fill="none" id="vnetHub-vnetSpoke" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1754.0521,574.6582,1744.6771,570.4915,1748.8438,574.6582,1744.6771,578.8249,1754.0521,574.6582" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1648.0417,574.6582,1657.4167,578.8249,1653.25,574.6582,1657.4167,570.4915,1648.0417,574.6582" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="1687.5" y="565.7593">Peer</text></g><!--MD5=[af44d6627d4a0633866e4f225ca54f48]
@startuml diagram-topology

' !define AzurePuml https://raw.githubusercontent.com/travisnielsen/Azure-PlantUML/themesupport/dist
!define AzurePuml https://raw.githubusercontent.com/travisnielsen/Azure-PlantUML/themesupport/dist

' Theme
' !includeurl AzurePuml/themes/blueprint.puml
' !includeurl AzurePuml/AzureCommon.puml
!includeurl AzurePuml/themes/dracula.puml

' C4
' !includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Container.puml

!includeurl AzurePuml/Management/AzureSubscription.puml
!includeurl AzurePuml/Networking/AzureVirtualNetwork.puml
!includeurl AzurePuml/Networking/AzureDNS.puml
!includeurl AzurePuml/Networking/AzureVPNGateway.puml
!includeurl AzurePuml/Networking/AzureExpressRoute.puml

LAYOUT_LEFT_RIGHT

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> GREEN
    BorderThickness<<island>> 6
}

skinparam rectangle<<e_stereo>> {
    BackgroundColor<<Region>> BACKGROUND
	BorderColor<<Region>> RED
	BackgroundColor<<AzureSubscription>> SELECTION
	BorderColor<<AzureSubscription>> YELLOW
    BackgroundColor<<AzureVirtualNetwork>> BACKGROUND
    BorderColor<<AzureVirtualNetwork>> ORANGE
    BackgroundColor<<AzureSubnet>> SELECTION
    BorderColor<<AzureSubnet>> ORANGE
    BorderColor<<AzureRouteTable>> ORANGE
    BorderColor<<AzurePrivateLink>> ORANGE
	BorderColor<<AzureExpressRoute>> ORANGE
	BorderColor<<AzureVPNGateway>> ORANGE
    BorderColor<<AzureVirtualMachine>> PURPLE
    BorderColor<<AzureFunction>> PURPLE
    BorderColor<<AzureDataLakeStorage>> CYAN
    BorderColor<<AzureSqlDataWarehouse>> CYAN
    BorderColor<<AzureDataFactory>> CYAN
    BorderColor<<AzureFirewall>> RED
    BorderColor<<AzureNSG>> RED
    BorderColor<<AzureDNS>> CYAN
    BorderColor<<PrivateDnsResolver>> CYAN
}



AzureSubscription(subscriptionIsland, "Cloud Native Workloads", "") {

    Rectangle "Name Resolution Services" as nameResolution {
        AzureDNS(dnsIslandPrivateZones, "Private DNS Zones", "storage, event hub, AppServices, etc..", "Automated support for Azure servcies with private links", CYAN)
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
        AzureVirtualNetwork(vnetIslandA, "workload a", "AKS, Azure Functions, Virtual Machines", "192.168.0.0/20") #line:red {
        }
        AzureVirtualNetwork(vnetIslandB, "workload b", "Databricks, Synapse", "192.168.16.0/20") #line:red {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution -> vnetIslandB
}

AzureSubscription(subscriptionInfrastructure, "Core Infrastructure Services", "") {
    AzureVirtualNetwork(vnetBridge, "Bridge", "Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints", "10.10.16.0/20") #line:red;line.bold {
    }
    AzureVirtualNetwork(vnetHub, "Hub", "Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints", "10.10.0.0/20") #line:white
}

AzureSubscription(subscriptionSpoke, "Hybrid Workload", "") {
    AzureVirtualNetwork(vnetSpoke, "Spoke", "Custom API: api.contoso.com", "10.10.32.0/20") #line:white

}

vnetIslandA <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

@startuml diagram-topology








skinparam defaultFontName        "Helvetica"
skinparam defaultFontSize        12
skinparam dpi                    100
skinparam shadowing              false
skinparam roundcorner            8
skinparam ParticipantPadding     40
skinparam BoxPadding             40
skinparam Padding                5
skinparam defaultTextAlignment  center
skinparam wrapWidth             300
skinparam maxMessageSize        150
skinparam ranksep               1






<style>
  root {
    BackgroundColor #282a36
    FontColor #f8f8f2
    FontName Helvetica
    HyperLinkColor #f8f8f2
    LineColor #f8f8f2
    LineThickness 1
    Margin 10
    Padding 6
    Shadowing 0.0
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    Padding 15
    roundcorner 20
    MaximumWidth 400
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>


skinparam rectangle {
	FontColor #f8f8f2
	BorderColor #f8f8f2
	BackgroundColor #282a36
	BorderThickness 2
	StereotypeFontColor #f8f8f2
    StereotypeFontSize 12
    EntityStereotypeFontSize 12
}







sprite $AzureSubscription [70x70/8z] {
xTG5SiD050HHpUpzpnnEEfnVss6xYunFqjBnVabpoBfkCqRMGpK8rI1KWr054iQusyYJTpN8njs0eF11Tn3-n2TpXF-y_6YC4EC2ixzYNtmsGQXxgtYzg8k6
p1fLWr06WpB8t0hLtefNw1SgVdIz4hTUk1NF7EzNWr0DGZK8rI3K0IAP7EDg4Af1g0QX6eHg4Af1I28er4Cef1HI2Yc5X49L2eXN-ejcEaQX68NoYzPBpkj5
tCjNZWlrpvyC5GZ581I3K41C0J45n9GPSWa
}

skinparam rectangle<<AzureSubscription>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}
sprite $AzureVirtualNetwork [70x70/8z] {
xT99aiCm34DH2wRkV-KkcHsaWan_dH9sDCYNyVZrxEpig3wr9OXKVK2gn90Fp5MA81-OwWWYv-lwD8CHpd0a6O8mXYESIGGo7E5C8fpX26SIuGn024CGpYGo
DBphCQTaJYDkvvJVvvfE6zVoSk8maLfdPjHJtSkNZ0BfCz-joMWkcxbpBcPdh6dS9ZrSpIEOVqH-FX-K-KgPLlJ_H8tencXsgiTK6l77LpCwr8YPyfbHcqSZ
SnYvcBMh2p4poeYP-o-za3BIZ3msqncoqLF-w_8g7w3a3M000XY000OZMN04Lnp9aYEyvbkSyGvO8Hk00JrXG0iOM7vcnkjkD4AII387Io3173-VdPsTFm
}

skinparam rectangle<<AzureVirtualNetwork>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}
sprite $AzureDNS [70x70/8z] {
rTY7jgmW30NGK_p_NtuDr6CkYm7VQfDRfk6U95R4bmHb7t_2blXIE4fuMqeYmtnZ-8fTXrMeaXOG9r6JwX-k5TF61z9Ut0wdI1Y7KpdDq_42SXGaNtzY6D_P
7qio2mnZI4cbk3CcbyrKgjA7ZHaNPA1yPjG-orGcoVIH6ZVbSYPAZXisvHfmONVqEgvNKLCsfInOa8XCbwcKeYTHEno8KfaxjKsggImhoJXIMLViain6AfEQ
r17kAJMPAAZKkyh4olOa5SazTBybb_wMjgZNIFKbWEiP_psoDw6Mn2Y8e6KHuAdWeH2KnP-A7eeEzz5TkJn6HgKnfIs4x6080hgLy_EVw_eOAWRqJsdSJF54
OLUCg4N0dYAmAG8KtMqZTfN-BzSqdygnf0ZGfLW4iA7eNbDeIgo_HOMtOe067OpM-YBWiV4f5O6fpBOwdKfxV2gPYmPxm5rwA09I0LpsWBetzjKWfs8r1PIa
qJwTZI5QC5TtUFrp7LFbSJXwlf3wW-eEC3vYUk-8gNT7xqmbkl1_okG4kuu8PrJbrRaHVZ8xYEgLn-OgobIoCsbCiP9AlIBhOzf0rsZlEsS9mwl3_9vqSiaS
EBtSpLQt33oyu1MMcFsBx_xfM7cc4lLiCtMcmUdqg2Y9vEFQBAiogmWGixhnNCs1BCq-RHTaVHRBu_DC-20-XhTcvVjt22AHFQU6kNllvIrHGtRUVVcE-0q
}

skinparam rectangle<<AzureDNS>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}
sprite $AzureVPNGateway [70x70/8z] {
xTG7hXin30PXpa_T_yef0WqGjfOHLqbU7NVB-9PoiogGt5q2kndod6v1ykTatV1L72AHciWvWr-d3dBEU1stFcBT6KQBhnhgCldb5tXh51KBswFesczyoiK1
sDuGnH6qhPIxjRfoQFfAOxLvDBs9eZlBtug-bMy5a6OkiKhoE07O8jte_oleAlOLCmwLc9fJnMQSAHPneW3JuBOIKQ_rbM-5IuM6OcYTRIWU9vaHzvwGFoa-
OvR-rrv_KxDQ8GttmkJ9Uqg6s5N4B905myQE8cKaEnYATXHb83CT9I6OaSPfA3dM7_fQeLIYKoKwLg9J9Mee8nBCHHYFtFUKaI9MyvDUA0d9aP3CrCfuZeGa
frB68bWyxOKobldwsOjVmEZbahsaqGvxz1C
}

skinparam rectangle<<AzureVPNGateway>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}
sprite $AzureExpressRoute [70x70/8z] {
xTP5UWCm44FXQaQ-_v7B1eKZX-EtAUR_38lnnxEqMgq0ODO8_XPJ25jpo3oJ74eJ0INCB2Ng4SU4alATfTGLX2ZkMZYXHFrmFQ0xtX4BXmfDf0pCpmycqfc_
7qn4bK8F-RbTuEVMAsCXDM4iH1a3CHb5J4OHar74P1Gn6KLCHX6JKSHZ045EP83jCQh8SKQ7Bsk276LOKuGKv0Z3dY9aHOupvCY0T6Ow9RGfaN-BEJ7-b6tQ
z85rlgBl2gB-V9QIEhGOxbfqI_3EfIubWn9EZ5BedQNrMAFz1Dpy50n46CZomdZUo24OhtJvsAEqMgs-
}

skinparam rectangle<<AzureExpressRoute>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}

left to right direction

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> #50fa7b
    BorderThickness<<island>> 6
}

skinparam rectangle<<e_stereo>> {
    BackgroundColor<<Region>> #282a36
	BorderColor<<Region>> #ff5555
	BackgroundColor<<AzureSubscription>> #44475a
	BorderColor<<AzureSubscription>> #f1fa8c
    BackgroundColor<<AzureVirtualNetwork>> #282a36
    BorderColor<<AzureVirtualNetwork>> #ffb86c
    BackgroundColor<<AzureSubnet>> #44475a
    BorderColor<<AzureSubnet>> #ffb86c
    BorderColor<<AzureRouteTable>> #ffb86c
    BorderColor<<AzurePrivateLink>> #ffb86c
	BorderColor<<AzureExpressRoute>> #ffb86c
	BorderColor<<AzureVPNGateway>> #ffb86c
    BorderColor<<AzureVirtualMachine>> #bd93f9
    BorderColor<<AzureFunction>> #bd93f9
    BorderColor<<AzureDataLakeStorage>> #8be9fd
    BorderColor<<AzureSqlDataWarehouse>> #8be9fd
    BorderColor<<AzureDataFactory>> #8be9fd
    BorderColor<<AzureFirewall>> #ff5555
    BorderColor<<AzureNSG>> #ff5555
    BorderColor<<AzureDNS>> #8be9fd
    BorderColor<<PrivateDnsResolver>> #8be9fd
}



rectangle "==Cloud Native Workloads\n<color:#f8f8f2><$AzureSubscription></color>\n//<size:18>[]</size>//" <<AzureSubscription>> as subscriptionIsland {

    Rectangle "Name Resolution Services" as nameResolution {
        rectangle "==Private DNS Zones\n//<size:8> </size>//\n<color:#8be9fd><$AzureDNS></color>\n//<size:18>[storage, event hub, AppServices, etc..]</size>//\n\n Automated support for Azure servcies with private links" <<AzureDNS>> as dnsIslandPrivateZones
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
        rectangle "==workload a\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[AKS, Azure Functions, Virtual Machines]</size>//\n\n 192.168.0.0/20" <<AzureVirtualNetwork>> as vnetIslandA #line:red {
        }
        rectangle "==workload b\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Databricks, Synapse]</size>//\n\n 192.168.16.0/20" <<AzureVirtualNetwork>> as vnetIslandB #line:red {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution -> vnetIslandB
}

rectangle "==Core Infrastructure Services\n<color:#f8f8f2><$AzureSubscription></color>\n//<size:18>[]</size>//" <<AzureSubscription>> as subscriptionInfrastructure {
    rectangle "==Bridge\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints]</size>//\n\n 10.10.16.0/20" <<AzureVirtualNetwork>> as vnetBridge #line:red;line.bold {
    }
    rectangle "==Hub\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints]</size>//\n\n 10.10.0.0/20" <<AzureVirtualNetwork>> as vnetHub #line:white
}

rectangle "==Hybrid Workload\n<color:#f8f8f2><$AzureSubscription></color>\n//<size:18>[]</size>//" <<AzureSubscription>> as subscriptionSpoke {
    rectangle "==Spoke\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Custom API: api.contoso.com]</size>//\n\n 10.10.32.0/20" <<AzureVirtualNetwork>> as vnetSpoke #line:white

}

vnetIslandA <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

PlantUML version 1.2022.8(Sun Sep 25 04:00:33 CDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>