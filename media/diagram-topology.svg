<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="910.4167px" preserveAspectRatio="none" style="width:2071px;height:910px;background:#282A36;" version="1.1" viewBox="0 0 2071 910" width="2071.875px" zoomAndPan="magnify"><defs/><g><rect fill="#282A36" height="51.7415" id="_title" rx="4.1667" ry="4.1667" style="stroke:#282A36;stroke-width:0.0;" width="288.5417" x="886.9792" y="20.8333"/><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" font-weight="bold" lengthAdjust="spacing" textLength="265.625" x="898.4375" y="56.0811">Island Network Topology</text><!--MD5=[4f80334fb3381e44c6b0cccb474a8532]
cluster subscriptionIsland--><g id="cluster_subscriptionIsland"><rect fill="#44475A" height="808.3333" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="808.3333" x="17.7083" y="91.3249"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="361.4583" y="111.5926">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="191.6667" x="326.0417" y="150.708">Business Unit A</text><image height="72.9167" width="72.9167" x="385.4167" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACpElEQVR4Xu3aMYvcMBAF4PtxD1IGUuZISHFcYIvApUh3TTo3qbbKr80QgREeSx6N37MuEHiYPZ2s1beyx+vdfcC7j6K8//Dp8fOX59vT9x9fbWt/+j6KPPgmSoxx//2yyfLr2wUwPslWxqbuPWtM6/cihkwyjzf4SFVMUtCjVtFIQx6pikPa9dgZZe2lHth2t2AoVARSy+N7Win3Pemqs6TiqUtcedwq1q8/b2rVKdLqKakf+871Lj5EVZ608dSxpfD9S2z1yl46VZJUrqetdEj1jiJVhtT3lPi9SmzSq6feElXDpIhnaSyUHXW+J32txkhBT4mp6rpnFdz3KeGu1QBp9zWOxGy+0Ye1VlFS2hMPa62iJD8DUTZrZYe6n0w/IVLnNKBns1ZLu3i2EiL5J5Zms1Cjh98xaajKsVKTdq8HnRyTDo+6zYuaS2fYZfDYe6Ok0rL+18+qkzdKqodd6Kt0wRWplULilwcEKp5/1YfiB6xHHr00hUj9ouenmIgftow8Wu4QJKF7Rvn5JeKHLfEzOUyUhL8fG/inTCfiaX2A0c8ACWxVPzkPRkm4SpX2IEGCXnXGgxwJStVJD9IkaFSjl6Dd5ElgqygenCSBp2J5cJ4EhoroAYWEcyquBywSsiq6B0QSxlUKD7gkBG5D1B7MIiVuGeKZQ1oY7xJamUbSqVSk/o2QVDWZtKTuW/uZTFLUiZkkhQcTSSIPJpL8vqxMI/177x4OSTrVTJJINZm0CE6qyaTn25Mf5GRmkka/ZQlmAqm0izy4nlTa7+3fIJ4PmVQY67zXNdm031NfHAXDJ8UjUs0kiVT/SUfxk+5E4QGd9Lr3m+ndiDygkx4bv5m+zAM6CQGV1AMFCV2V2gMRCQ3VBR7oSHCqazyQklCpLvNY/gAMGwuvqeFbEQAAAABJRU5ErkJggg==" y="156.2012"/></g><!--MD5=[6a6dfeeb3653cbfb709c9a533a96c1cd]
cluster nameResolution--><g id="cluster_nameResolution"><rect fill="#282A36" height="568.75" rx="4.1667" ry="4.1667" style="stroke:#F8F8F2;stroke-width:2.0833333333333335;" width="383.3333" x="51.0417" y="268.4082"/><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" font-weight="bold" lengthAdjust="spacing" textLength="280.2083" x="102.6042" y="299.4893">Name Resolution Services</text></g><!--MD5=[874d2f2ba8edd7664b15b448ce929b47]
cluster subscriptionInfrastructure--><g id="cluster_subscriptionInfrastructure"><rect fill="#44475A" height="479.1667" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="765.625" x="898.9583" y="240.2832"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="1221.3542" y="260.5509">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="333.3333" x="1115.1042" y="299.6663">Core Infrastructure Services</text><image height="72.9167" width="72.9167" x="1245.3125" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACpElEQVR4Xu3aMYvcMBAF4PtxD1IGUuZISHFcYIvApUh3TTo3qbbKr80QgREeSx6N37MuEHiYPZ2s1beyx+vdfcC7j6K8//Dp8fOX59vT9x9fbWt/+j6KPPgmSoxx//2yyfLr2wUwPslWxqbuPWtM6/cihkwyjzf4SFVMUtCjVtFIQx6pikPa9dgZZe2lHth2t2AoVARSy+N7Win3Pemqs6TiqUtcedwq1q8/b2rVKdLqKakf+871Lj5EVZ608dSxpfD9S2z1yl46VZJUrqetdEj1jiJVhtT3lPi9SmzSq6feElXDpIhnaSyUHXW+J32txkhBT4mp6rpnFdz3KeGu1QBp9zWOxGy+0Ye1VlFS2hMPa62iJD8DUTZrZYe6n0w/IVLnNKBns1ZLu3i2EiL5J5Zms1Cjh98xaajKsVKTdq8HnRyTDo+6zYuaS2fYZfDYe6Ok0rL+18+qkzdKqodd6Kt0wRWplULilwcEKp5/1YfiB6xHHr00hUj9ouenmIgftow8Wu4QJKF7Rvn5JeKHLfEzOUyUhL8fG/inTCfiaX2A0c8ACWxVPzkPRkm4SpX2IEGCXnXGgxwJStVJD9IkaFSjl6Dd5ElgqygenCSBp2J5cJ4EhoroAYWEcyquBywSsiq6B0QSxlUKD7gkBG5D1B7MIiVuGeKZQ1oY7xJamUbSqVSk/o2QVDWZtKTuW/uZTFLUiZkkhQcTSSIPJpL8vqxMI/177x4OSTrVTJJINZm0CE6qyaTn25Mf5GRmkka/ZQlmAqm0izy4nlTa7+3fIJ4PmVQY67zXNdm031NfHAXDJ8UjUs0kiVT/SUfxk+5E4QGd9Lr3m+ndiDygkx4bv5m+zAM6CQGV1AMFCV2V2gMRCQ3VBR7oSHCqazyQklCpLvNY/gAMGwuvqeFbEQAAAABJRU5ErkJggg==" y="305.1595"/></g><!--MD5=[59a58b1e555f596f3ae3b558401dd421]
cluster subscriptionSpoke--><g id="cluster_subscriptionSpoke"><rect fill="#44475A" height="431.25" rx="4.1667" ry="4.1667" style="stroke:#F1FA8C;stroke-width:2.0833333333333335;" width="322.9167" x="1737.5" y="264.2415"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="120.8333" x="1838.5417" y="284.5093">«AzureSubscription»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="201.0417" x="1798.4375" y="323.6247">Hybrid Workload</text><image height="72.9167" width="72.9167" x="1862.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACpElEQVR4Xu3aMYvcMBAF4PtxD1IGUuZISHFcYIvApUh3TTo3qbbKr80QgREeSx6N37MuEHiYPZ2s1beyx+vdfcC7j6K8//Dp8fOX59vT9x9fbWt/+j6KPPgmSoxx//2yyfLr2wUwPslWxqbuPWtM6/cihkwyjzf4SFVMUtCjVtFIQx6pikPa9dgZZe2lHth2t2AoVARSy+N7Win3Pemqs6TiqUtcedwq1q8/b2rVKdLqKakf+871Lj5EVZ608dSxpfD9S2z1yl46VZJUrqetdEj1jiJVhtT3lPi9SmzSq6feElXDpIhnaSyUHXW+J32txkhBT4mp6rpnFdz3KeGu1QBp9zWOxGy+0Ye1VlFS2hMPa62iJD8DUTZrZYe6n0w/IVLnNKBns1ZLu3i2EiL5J5Zms1Cjh98xaajKsVKTdq8HnRyTDo+6zYuaS2fYZfDYe6Ok0rL+18+qkzdKqodd6Kt0wRWplULilwcEKp5/1YfiB6xHHr00hUj9ouenmIgftow8Wu4QJKF7Rvn5JeKHLfEzOUyUhL8fG/inTCfiaX2A0c8ACWxVPzkPRkm4SpX2IEGCXnXGgxwJStVJD9IkaFSjl6Dd5ElgqygenCSBp2J5cJ4EhoroAYWEcyquBywSsiq6B0QSxlUKD7gkBG5D1B7MIiVuGeKZQ1oY7xJamUbSqVSk/o2QVDWZtKTuW/uZTFLUiZkkhQcTSSIPJpL8vqxMI/177x4OSTrVTJJINZm0CE6qyaTn25Mf5GRmkka/ZQlmAqm0izy4nlTa7+3fIJ4PmVQY67zXNdm031NfHAXDJ8UjUs0kiVT/SUfxk+5E4QGd9Lr3m+ndiDygkx4bv5m+zAM6CQGV1AMFCV2V2gMRCQ3VBR7oSHCqazyQklCpLvNY/gAMGwuvqeFbEQAAAABJRU5ErkJggg==" y="329.1178"/></g><!--MD5=[b112037bf681ddd4b63dd5e0fb3149a9]
entity dnsIslandPrivateZones--><g id="elem_dnsIslandPrivateZones"><rect fill="#282A36" height="305.8757" rx="4.1667" ry="4.1667" style="stroke:#8BE9FD;stroke-width:2.0833333333333335;" width="333.3333" x="76.0417" y="335.0749"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="76.0417" x="204.6875" y="363.6759">«AzureDNS»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="221.875" x="131.7708" y="402.7913">Private DNS Zones</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="241.6667" y="416.9352"> </text><image height="72.9167" width="72.9167" x="206.25" xlink:href="data:image/png;base64,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" y="418.7663"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="282.2917" x="98.9583" y="511.1471">[storage, event hub, AppServices,</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="40.625" x="222.3958" y="534.731">etc..]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="239.5833" y="562.6404"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="289.5833" x="97.9167" y="591.4653">Automated support for Azure</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="251.0417" x="117.1875" y="620.2901">servcies with private links</text></g><!--MD5=[01b3b70f2db638f756c722fee7cd1807]
entity dnsPrivateResolver--><g id="elem_dnsPrivateResolver"><rect fill="#282A36" height="115.0391" rx="4.1667" ry="4.1667" style="stroke:#8BE9FD;stroke-width:2.0833333333333335;" width="253.125" x="116.1458" y="677.7832"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="128.125" x="178.6458" y="706.3843">«PrivateDnsResolver»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="221.875" x="131.7708" y="743.337">DNS Private Resolver</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="131.25" x="177.0833" y="772.1619">contoso.com</text></g><!--MD5=[fcae704fdc49b60d5a89b38f66ebe55c]
entity vnetIslandA--><g id="elem_vnetIslandA"><rect fill="#282A36" height="277.0508" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="290.625" x="493.75" y="290.2832"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="572.9167" y="318.8843">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="131.25" x="573.4375" y="357.9997">workload a</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="638.0208" y="372.1436"> </text><image height="72.9167" width="72.9167" x="602.6042" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACtElEQVR4Xu3Xv27UQBAGcD/OiD7Qg1IjRElxlGlCRQcNJUi0h0QNPMDlBflyX7TZ25m1949j70YrfcWdPR7Pz175zpO8ePnMMulNvWeQesgg9ZBB6iGD1EMGqYcMUg8pJ91++nz89fvq1Wu9qyZoiLZornclppBED7Oiih6mWFVC8j0rqnxPjSqbpD2MrsyN7lmmyiPFPF++ftPFuUET3blAlUF6Ug+ziiqVtIGHqVclkTbzMJWqZdLGHqZGtUDaxcMUq+ZIO3qYMlWUtLuHKVDZpEY8TK7KIDXlYbJUIalBD5OuuiA162ESVY+kXM+b67eHjzfv3n9Y/BuOApShGIfovUFYGWubonogxUpND072/cfPP3//Iae7O0TffRfs8itxoDmrnK8R9vpnB0yXLY56T1osCoJd/pQMLq2uxEZdebTeRPyXJR7CmDd2fuApd72ZUyLYoovNStPvj+GTcN90W5lVTXorEmvEXuaUSHBF8TVWqRcql5yPcZdDz+AfomOQUKpP6QKSHjFG0jWM7m+SWKxnYNDEVE1YA9qD6LXBYLse8RRZeLqM0c1587Untl7QgXMGKmy/fzw4lfPMq9z55qeU84XUlcf44yHwnNSdZ5wnUHGGh4c4vgSeGRVOg+P9KW/VQnIJVPMPcapYiQ/mQzzwOJUb9fGnFmfSpTGVnCfg3tiIfiXKDmk/tWwbqzQ9iD/DxR+iXNXGSfGI/tvarCrRI5okTarSPWKSpDFVlkdiJGlGleuRGZI0oCrwyDxJdlWVeWSRJDupij2SQpLNVTUeSSTJhqpKj6STZBNVvUeySPLEqlU8kkuSuCr3xEFWbJtNEuv05ltAbtCk3iNlJLlUreJhfFWZR4pJclYd0l6BssKXq2KP1JCazSD1kEHqIYPUQwaphwxSDxmkHvIMSf8BjwfSLEdmw1EAAAAASUVORK5CYII=" y="373.9746"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="254.1667" x="509.375" y="466.3554">[AKS, Azure Functions, Virtual</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="87.5" x="595.3125" y="489.9394">Machines]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="635.9375" y="517.8487"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="150" x="567.1875" y="546.6736">192.168.0.0/20</text></g><!--MD5=[61d4ba4c33d76f1084cbd93e321717dd]
entity vnetIslandB--><g id="elem_vnetIslandB"><rect fill="#282A36" height="253.4668" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="214.5833" x="531.7708" y="604.3457"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="572.9167" y="632.9468">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="133.3333" x="572.3958" y="672.0622">workload b</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="638.0208" y="686.2061"> </text><image height="72.9167" width="72.9167" x="602.6042" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACtElEQVR4Xu3Xv27UQBAGcD/OiD7Qg1IjRElxlGlCRQcNJUi0h0QNPMDlBflyX7TZ25m1949j70YrfcWdPR7Pz175zpO8ePnMMulNvWeQesgg9ZBB6iGD1EMGqYcMUg8pJ91++nz89fvq1Wu9qyZoiLZornclppBED7Oiih6mWFVC8j0rqnxPjSqbpD2MrsyN7lmmyiPFPF++ftPFuUET3blAlUF6Ug+ziiqVtIGHqVclkTbzMJWqZdLGHqZGtUDaxcMUq+ZIO3qYMlWUtLuHKVDZpEY8TK7KIDXlYbJUIalBD5OuuiA162ESVY+kXM+b67eHjzfv3n9Y/BuOApShGIfovUFYGWubonogxUpND072/cfPP3//Iae7O0TffRfs8itxoDmrnK8R9vpnB0yXLY56T1osCoJd/pQMLq2uxEZdebTeRPyXJR7CmDd2fuApd72ZUyLYoovNStPvj+GTcN90W5lVTXorEmvEXuaUSHBF8TVWqRcql5yPcZdDz+AfomOQUKpP6QKSHjFG0jWM7m+SWKxnYNDEVE1YA9qD6LXBYLse8RRZeLqM0c1587Untl7QgXMGKmy/fzw4lfPMq9z55qeU84XUlcf44yHwnNSdZ5wnUHGGh4c4vgSeGRVOg+P9KW/VQnIJVPMPcapYiQ/mQzzwOJUb9fGnFmfSpTGVnCfg3tiIfiXKDmk/tWwbqzQ9iD/DxR+iXNXGSfGI/tvarCrRI5okTarSPWKSpDFVlkdiJGlGleuRGZI0oCrwyDxJdlWVeWSRJDupij2SQpLNVTUeSSTJhqpKj6STZBNVvUeySPLEqlU8kkuSuCr3xEFWbJtNEuv05ltAbtCk3iNlJLlUreJhfFWZR4pJclYd0l6BssKXq2KP1JCazSD1kEHqIYPUQwaphwxSDxmkHvIMSf8BjwfSLEdmw1EAAAAASUVORK5CYII=" y="688.0371"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="183.3333" x="547.3958" y="780.4179">[Databricks, Synapse]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="635.9375" y="808.3272"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="162.5" x="560.9375" y="837.1521">192.168.16.0/20</text></g><!--MD5=[91731e06f16d30c0683ac1f11fb29b5a]
entity vnetHub--><g id="elem_vnetHub"><rect fill="#282A36" height="300.6348" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:2.0833333333333335;" width="334.375" x="1313.5417" y="401.2207"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1414.5833" y="429.8218">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="48.9583" x="1456.25" y="468.9372">Hub</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1479.6875" y="483.0811"> </text><image height="72.9167" width="72.9167" x="1444.2708" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACtElEQVR4Xu3Xv27UQBAGcD/OiD7Qg1IjRElxlGlCRQcNJUi0h0QNPMDlBflyX7TZ25m1949j70YrfcWdPR7Pz175zpO8ePnMMulNvWeQesgg9ZBB6iGD1EMGqYcMUg8pJ91++nz89fvq1Wu9qyZoiLZornclppBED7Oiih6mWFVC8j0rqnxPjSqbpD2MrsyN7lmmyiPFPF++ftPFuUET3blAlUF6Ug+ziiqVtIGHqVclkTbzMJWqZdLGHqZGtUDaxcMUq+ZIO3qYMlWUtLuHKVDZpEY8TK7KIDXlYbJUIalBD5OuuiA162ESVY+kXM+b67eHjzfv3n9Y/BuOApShGIfovUFYGWubonogxUpND072/cfPP3//Iae7O0TffRfs8itxoDmrnK8R9vpnB0yXLY56T1osCoJd/pQMLq2uxEZdebTeRPyXJR7CmDd2fuApd72ZUyLYoovNStPvj+GTcN90W5lVTXorEmvEXuaUSHBF8TVWqRcql5yPcZdDz+AfomOQUKpP6QKSHjFG0jWM7m+SWKxnYNDEVE1YA9qD6LXBYLse8RRZeLqM0c1587Untl7QgXMGKmy/fzw4lfPMq9z55qeU84XUlcf44yHwnNSdZ5wnUHGGh4c4vgSeGRVOg+P9KW/VQnIJVPMPcapYiQ/mQzzwOJUb9fGnFmfSpTGVnCfg3tiIfiXKDmk/tWwbqzQ9iD/DxR+iXNXGSfGI/tvarCrRI5okTarSPWKSpDFVlkdiJGlGleuRGZI0oCrwyDxJdlWVeWSRJDupij2SQpLNVTUeSSTJhqpKj6STZBNVvUeySPLEqlU8kkuSuCr3xEFWbJtNEuv05ltAbtCk3iNlJLlUreJhfFWZR4pJclYd0l6BssKXq2KP1JCazSD1kEHqIYPUQwaphwxSDxmkHvIMSf8BjwfSLEdmw1EAAAAASUVORK5CYII=" y="484.9121"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="242.7083" x="1356.7708" y="577.2929">[Azure Firewall, DNS servers</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="297.9167" x="1329.1667" y="600.8769">(contoso.com), Private Link Service</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="89.5833" x="1435.9375" y="624.4609">Endpoints]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1477.6042" y="652.3702"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="125" x="1421.3542" y="681.1951">10.10.0.0/20</text></g><!--MD5=[20f20457c675c4c7da862e2a74080129]
entity vnetBridge--><g id="elem_vnetBridge"><rect fill="#282A36" height="300.6348" rx="4.1667" ry="4.1667" style="stroke:#FF0000;stroke-width:2.0833333333333335;" width="341.6667" x="915.625" y="401.2207"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1020.3125" y="429.8218">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="293.75" x="939.5833" y="468.9372">Bridge - Business Unit A</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1085.4167" y="483.0811"> </text><image height="72.9167" width="72.9167" x="1050" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACtElEQVR4Xu3Xv27UQBAGcD/OiD7Qg1IjRElxlGlCRQcNJUi0h0QNPMDlBflyX7TZ25m1949j70YrfcWdPR7Pz175zpO8ePnMMulNvWeQesgg9ZBB6iGD1EMGqYcMUg8pJ91++nz89fvq1Wu9qyZoiLZornclppBED7Oiih6mWFVC8j0rqnxPjSqbpD2MrsyN7lmmyiPFPF++ftPFuUET3blAlUF6Ug+ziiqVtIGHqVclkTbzMJWqZdLGHqZGtUDaxcMUq+ZIO3qYMlWUtLuHKVDZpEY8TK7KIDXlYbJUIalBD5OuuiA162ESVY+kXM+b67eHjzfv3n9Y/BuOApShGIfovUFYGWubonogxUpND072/cfPP3//Iae7O0TffRfs8itxoDmrnK8R9vpnB0yXLY56T1osCoJd/pQMLq2uxEZdebTeRPyXJR7CmDd2fuApd72ZUyLYoovNStPvj+GTcN90W5lVTXorEmvEXuaUSHBF8TVWqRcql5yPcZdDz+AfomOQUKpP6QKSHjFG0jWM7m+SWKxnYNDEVE1YA9qD6LXBYLse8RRZeLqM0c1587Untl7QgXMGKmy/fzw4lfPMq9z55qeU84XUlcf44yHwnNSdZ5wnUHGGh4c4vgSeGRVOg+P9KW/VQnIJVPMPcapYiQ/mQzzwOJUb9fGnFmfSpTGVnCfg3tiIfiXKDmk/tWwbqzQ9iD/DxR+iXNXGSfGI/tvarCrRI5okTarSPWKSpDFVlkdiJGlGleuRGZI0oCrwyDxJdlWVeWSRJDupij2SQpLNVTUeSSTJhqpKj6STZBNVvUeySPLEqlU8kkuSuCr3xEFWbJtNEuv05ltAbtCk3iNlJLlUreJhfFWZR4pJclYd0l6BssKXq2KP1JCazSD1kEHqIYPUQwaphwxSDxmkHvIMSf8BjwfSLEdmw1EAAAAASUVORK5CYII=" y="484.9121"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="305.2083" x="931.25" y="577.2929">[Azure Firewall, Bastion, Application</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="253.125" x="957.2917" y="600.8769">Gateway, Private Link Service</text><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="89.5833" x="1041.6667" y="624.4609">Endpoints]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1083.3333" y="652.3702"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="137.5" x="1020.8333" y="681.1951">10.10.16.0/20</text></g><!--MD5=[7d1faec0bc72c6e1449dfd0e62b42952]
entity vnetSpoke--><g id="elem_vnetSpoke"><rect fill="#282A36" height="253.4668" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:2.0833333333333335;" width="289.5833" x="1754.1667" y="425.179"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" font-style="italic" lengthAdjust="spacing" textLength="132.2917" x="1832.8125" y="453.7801">«AzureVirtualNetwork»</text><text fill="#F8F8F2" font-family="Helvetica" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="75" x="1861.4583" y="492.8955">Spoke</text><text fill="#F8F8F2" font-family="Helvetica" font-size="8.3333" font-style="italic" lengthAdjust="spacing" textLength="2.0833" x="1897.9167" y="507.0394"> </text><image height="72.9167" width="72.9167" x="1862.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAIAAAD+THXTAAACtElEQVR4Xu3Xv27UQBAGcD/OiD7Qg1IjRElxlGlCRQcNJUi0h0QNPMDlBflyX7TZ25m1949j70YrfcWdPR7Pz175zpO8ePnMMulNvWeQesgg9ZBB6iGD1EMGqYcMUg8pJ91++nz89fvq1Wu9qyZoiLZornclppBED7Oiih6mWFVC8j0rqnxPjSqbpD2MrsyN7lmmyiPFPF++ftPFuUET3blAlUF6Ug+ziiqVtIGHqVclkTbzMJWqZdLGHqZGtUDaxcMUq+ZIO3qYMlWUtLuHKVDZpEY8TK7KIDXlYbJUIalBD5OuuiA162ESVY+kXM+b67eHjzfv3n9Y/BuOApShGIfovUFYGWubonogxUpND072/cfPP3//Iae7O0TffRfs8itxoDmrnK8R9vpnB0yXLY56T1osCoJd/pQMLq2uxEZdebTeRPyXJR7CmDd2fuApd72ZUyLYoovNStPvj+GTcN90W5lVTXorEmvEXuaUSHBF8TVWqRcql5yPcZdDz+AfomOQUKpP6QKSHjFG0jWM7m+SWKxnYNDEVE1YA9qD6LXBYLse8RRZeLqM0c1587Untl7QgXMGKmy/fzw4lfPMq9z55qeU84XUlcf44yHwnNSdZ5wnUHGGh4c4vgSeGRVOg+P9KW/VQnIJVPMPcapYiQ/mQzzwOJUb9fGnFmfSpTGVnCfg3tiIfiXKDmk/tWwbqzQ9iD/DxR+iXNXGSfGI/tvarCrRI5okTarSPWKSpDFVlkdiJGlGleuRGZI0oCrwyDxJdlWVeWSRJDupij2SQpLNVTUeSSTJhqpKj6STZBNVvUeySPLEqlU8kkuSuCr3xEFWbJtNEuv05ltAbtCk3iNlJLlUreJhfFWZR4pJclYd0l6BssKXq2KP1JCazSD1kEHqIYPUQwaphwxSDxmkHvIMSf8BjwfSLEdmw1EAAAAASUVORK5CYII=" y="508.8704"/><text fill="#F8F8F2" font-family="Helvetica" font-size="18.75" font-style="italic" lengthAdjust="spacing" textLength="258.3333" x="1769.7917" y="601.2512">[Custom API: api.contoso.com]</text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="6.25" x="1895.8333" y="629.1606"> </text><text fill="#F8F8F2" font-family="Helvetica" font-size="22.9167" lengthAdjust="spacing" textLength="137.5" x="1833.3333" y="657.9854">10.10.32.0/20</text></g><!--MD5=[34401b1b2b1c65c3065057acf9755362]
link nameResolution to vnetIslandA--><g id="link_nameResolution_vnetIslandA"><path d="M277.0484,837.1778 C277.3032,837.2295 277.559,837.2811 277.816,837.3328 C278.8438,837.5392 279.8893,837.7451 280.9517,837.9498 C285.2013,838.7685 289.7208,839.5683 294.459,840.3123 C303.9355,841.8003 314.2871,843.0651 325.1042,843.8118 C368.3724,846.7988 419.0885,841.4967 451.0417,809.0332 C485.8958,773.6165 447.1042,630.8457 468.75,586.1165 C474.6875,573.8457 482.0313,562.054 490.3125,550.8457 " fill="none" id="nameResolution-to-vnetIslandA" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="493.6563,546.4082,484.678,551.3723,490.5146,550.5623,491.3246,556.399,493.6563,546.4082" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/></g><!--MD5=[c6904f40d4a4b3c1860b6590efb950c1]
link nameResolution to vnetIslandB--><g id="link_nameResolution_vnetIslandB"><path d="M435.2581,812.6783 C435.6137,812.6026 435.9691,812.5266 436.3242,812.4503 C437.0343,812.2975 437.7433,812.1434 438.451,811.9879 C439.8665,811.6769 441.277,811.3602 442.682,811.0377 C445.492,810.3928 448.2799,809.7249 451.0417,809.0332 C476.1563,802.7415 502.2813,793.6061 526.7708,783.7936 " fill="none" id="nameResolution-to-vnetIslandB" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="531.6354,781.8249,521.3812,781.5033,526.812,783.79,524.5254,789.2207,531.6354,781.8249" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/></g><!--MD5=[76c8a48be149c5f0682e251f10739ca2]
link vnetIslandA to vnetBridge--><g id="link_vnetIslandA_vnetBridge"><path d="M789.7917,470.1374 C828.3854,480.7936 870.2708,492.3561 910.0417,503.3353 " fill="none" id="vnetIslandA-vnetBridge" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="915.3854,504.804,907.4746,498.2717,910.3686,503.4047,905.2356,506.2987,915.3854,504.804" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="784.375,468.6478,792.3087,475.1522,789.3967,470.0295,794.5195,467.1175,784.375,468.6478" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="848.9583" y="478.2593">Peer</text></g><!--MD5=[23afb38ca48cc1fe34d4ae0fbabfa7c5]
link vnetIslandB to vnetBridge--><g id="link_vnetIslandB_vnetBridge"><path d="M751.5521,686.0645 C799.6771,666.7103 857.125,643.5957 910.6875,622.0436 " fill="none" id="vnetIslandB-vnetBridge" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="915.5208,620.0957,905.2679,619.736,910.6902,622.0428,908.3833,627.4651,915.5208,620.0957" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><polygon fill="#FF0000" points="746.4896,688.1061,756.7425,688.4658,751.3203,686.159,753.6271,680.7367,746.4896,688.1061" style="stroke:#FF0000;stroke-width:2.0833333333333335;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="848.9583" y="627.2176">Peer</text></g><!--MD5=[a525e6a3c036eff42b2df02c55c27f88]
link vnetBridge to vnetHub--><g id="link_vnetBridge_vnetHub"><path d="M1262.7396,551.7415 C1277.7292,551.7415 1292.875,551.7415 1307.8333,551.7415 " fill="none" id="vnetBridge-vnetHub" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1313.3333,551.7415,1303.9583,547.5749,1308.125,551.7415,1303.9583,555.9082,1313.3333,551.7415" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1257.5208,551.7415,1266.8958,555.9082,1262.7292,551.7415,1266.8958,547.5749,1257.5208,551.7415" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="1271.875" y="542.8426">Peer</text></g><!--MD5=[93dc89ee0a6d8eeaa56e587f43ef3075]
link vnetHub to vnetSpoke--><g id="link_vnetHub_vnetSpoke"><path d="M1653.3958,551.7415 C1685.0208,551.7415 1717.8125,551.7415 1748.7083,551.7415 " fill="none" id="vnetHub-vnetSpoke" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1754.0521,551.7415,1744.6771,547.5749,1748.8438,551.7415,1744.6771,555.9082,1754.0521,551.7415" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><polygon fill="#F8F8F2" points="1648.0417,551.7415,1657.4167,555.9082,1653.25,551.7415,1657.4167,547.5749,1648.0417,551.7415" style="stroke:#F8F8F2;stroke-width:1.0416666666666667;"/><text fill="#F8F8F2" font-family="Helvetica" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="1687.5" y="542.8426">Peer</text></g><!--MD5=[15a3b6ebcad07e3ed50d57c5572671e8]
@startuml diagram-topology

' !define AzurePuml https://raw.githubusercontent.com/travisnielsen/Azure-PlantUML/themesupport/dist
!define AzurePuml https://raw.githubusercontent.com/travisnielsen/Azure-PlantUML/themesupport/dist

' Theme
' !includeurl AzurePuml/themes/blueprint.puml
' !includeurl AzurePuml/AzureCommon.puml
!includeurl AzurePuml/themes/dracula.puml

' C4
' !includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Container.puml

!includeurl AzurePuml/Management/AzureSubscription.puml
!includeurl AzurePuml/Networking/AzureVirtualNetwork.puml
!includeurl AzurePuml/Networking/AzureDNS.puml
!includeurl AzurePuml/Networking/AzureVPNGateway.puml
!includeurl AzurePuml/Networking/AzureExpressRoute.puml

LAYOUT_LEFT_RIGHT

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> GREEN
    BorderThickness<<island>> 6
}

skinparam rectangle<<e_stereo>> {
    BackgroundColor<<Region>> BACKGROUND
	BorderColor<<Region>> RED
	BackgroundColor<<AzureSubscription>> SELECTION
	BorderColor<<AzureSubscription>> YELLOW
    BackgroundColor<<AzureVirtualNetwork>> BACKGROUND
    BorderColor<<AzureVirtualNetwork>> ORANGE
    BackgroundColor<<AzureSubnet>> SELECTION
    BorderColor<<AzureSubnet>> ORANGE
    BorderColor<<AzureRouteTable>> ORANGE
    BorderColor<<AzurePrivateLink>> ORANGE
	BorderColor<<AzureExpressRoute>> ORANGE
	BorderColor<<AzureVPNGateway>> ORANGE
    BorderColor<<AzureVirtualMachine>> PURPLE
    BorderColor<<AzureFunction>> PURPLE
    BorderColor<<AzureDataLakeStorage>> CYAN
    BorderColor<<AzureSqlDataWarehouse>> CYAN
    BorderColor<<AzureDataFactory>> CYAN
    BorderColor<<AzureFirewall>> RED
    BorderColor<<AzureNSG>> RED
    BorderColor<<AzureDNS>> CYAN
    BorderColor<<PrivateDnsResolver>> CYAN
}



AzureSubscription(subscriptionIsland, "Business Unit A", null, null, YELLOW) {

    Rectangle "Name Resolution Services" as nameResolution {
        AzureDNS(dnsIslandPrivateZones, "Private DNS Zones", "storage, event hub, AppServices, etc..", "Automated support for Azure servcies with private links", CYAN)
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
        AzureVirtualNetwork(vnetIslandA, "workload a", "AKS, Azure Functions, Virtual Machines", "192.168.0.0/20") #line:red {
        }
        AzureVirtualNetwork(vnetIslandB, "workload b", "Databricks, Synapse", "192.168.16.0/20") #line:red {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution -> vnetIslandB
}

AzureSubscription(subscriptionInfrastructure, "Core Infrastructure Services", null, null, YELLOW) {
    AzureVirtualNetwork(vnetBridge, "Bridge - Business Unit A", "Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints", "10.10.16.0/20") #line:red;line.bold {
    }
    AzureVirtualNetwork(vnetHub, "Hub", "Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints", "10.10.0.0/20") #line:white
}

AzureSubscription(subscriptionSpoke, "Hybrid Workload", null, null, YELLOW) {
    AzureVirtualNetwork(vnetSpoke, "Spoke", "Custom API: api.contoso.com", "10.10.32.0/20") #line:white

}

vnetIslandA <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

@startuml diagram-topology







skinparam defaultFontName        "Helvetica"
skinparam defaultFontSize        12
skinparam dpi                    100
skinparam shadowing              false
skinparam roundcorner            8
skinparam ParticipantPadding     40
skinparam BoxPadding             40
skinparam Padding                5
skinparam defaultTextAlignment  center
skinparam wrapWidth             300
skinparam maxMessageSize        150
skinparam ranksep               1





<style>
  root {
    BackgroundColor #282a36
    FontColor #f8f8f2
    FontName Helvetica
    HyperLinkColor #f8f8f2
    LineColor #f8f8f2
    LineThickness 1
    Margin 10
    Padding 6
    Shadowing 0.0
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    Padding 15
    roundcorner 20
    MaximumWidth 400
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>


skinparam rectangle {
	FontColor #f8f8f2
	BorderColor #f8f8f2
	BackgroundColor #282a36
	BorderThickness 2
	StereotypeFontColor #f8f8f2
    StereotypeFontSize 12
    EntityStereotypeFontSize 12
}










sprite $AzureSubscription [70x70/16z] {
pTS5TeGX40JXmNhkV-9unSCFTAoUh7yFMujffRRUIdZrV4YEKvNKpn4860Cn612J0L4jKJhCAH8FjJEcfkwDP8S7p2OYfQHNGuFPGXuQmH5ExJ9LD5xV1REE
4FTrAPM2sKCOJ96qDHeGc18HJK-jZgReGqElOZHx26sDHXSncZf3cgIbqSWOojhIL2qpOsb2-NdYGNaAA_FJOobQR7vYT34OqVJ0rBKPAKVCQckAOjwOdXAk
bpXZ2CHYG2m6n690VAR6SiD4O4m4naHWJ0J6H60yX3uWlZB2KgWOYiMWP7vWN4NVeWnF0J4L45-9Rr6ghy3uYke_EY_jEvGUjf8WZfAPvL19PQRuBp9EbPSC
9Xtc-nKVYM4XL4q4naTWG2m6n6D0J6ODkGK
}

skinparam rectangle<<AzureSubscription>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}




sprite $AzureVirtualNetwork [70x70/16z] {
xTH9ikGW38JXH9QCuFu7RZTIuB3UbEiA_ol6h-R2f_VszcRUy6FDZKJymHJ4tJYaC0LX6FC8t-QHaSY9RpiBGo0ymoELOH2EuH6UgGZ9y0ZFL8HdU8HdAi8p
1C8m3C8p5H4z6dRjKC7TaPkLEPz8wsFCQSZi_wmtHDBzwa2zM17uTUrAiTAO-VttCgwaCbQGl3O7LZbBr5BfA8n77TavPYIuafpbA-m-LXDPzoWHsyfyAFCx
PMx5aj50J17fZ0PMCuljCv6EI2qOXIxaPXvl16pEnxkxa2aRMOm2q8LiHdo_WitSdxHVo3WsifYusEp1G4mRTg8gk1CJF11hG66uAa8m148m1C8mF58P7g4P
7gaCZ_0CZrI6HtY6Hoh38pnJ4OffVsnIp85lEmWacOfKfe6fgU37H1i-lRUtjty
}

skinparam rectangle<<AzureVirtualNetwork>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}




sprite $AzureDNS [70x70/16z] {
rPZfdgGm2CINX5JX-x_m_aGmoYHpVPlQdKlfVtF5aFxtDoHzW6Q74KFRhn1jsF4MVqeI3KGLVW0QHyXuouBB_Zr6lmauHTw_N23Jhnb2DoLEfGVvD-AcV07H
oym1W1sM8ioO7EkVEc8tu_n1U-WgUdBm1SGkHeLO_Wt0R-yWpPrr8xT-GUO59cOFeJiIRrq4JjukABaXQLarBn7SO7X1t96bA_FQ7ZEYEBEm7_MaE4ONIJ4G
mIa15RIRUH4AnHmI1hoTvrI4H0BPapKcd55wgpedNM8HNEdk-Q9MwiExtwVrWb0oR2MrVcqQ4AWYtvKZtWbELr80rted7NosyF3KJeY1MmfPd96aM765u4uW
YpCZ8BranVYfgZEFWDoL7MMFENkctok8M4Cm1a83UKa7QdwZGf5R5LVhWouL6G6Hvens6GI5p93Q8w0k7GFQHJf8ugHEYaEQGdkVAokgD5uKDOOr2AVqf81K
wJnL4vDfkIcyrFpLNRh8c9Gc8oYrrkOKAnI83ATqQKd1ceAPt4fX4tKAH7fGF484PQQNMugduA9udOB29g8W-NrAkoYUwQIWd_b-K-mxlc28Q5B8SNBmVOe6
1LraKaXqQQmK-oAxW2TuKhpW9IyRoX11KZp1GSbeQwMnwXUuAqb14s-RHxIbw-eAI4ZZWp94l7U38uAw0dfPZV3Lg20d1NfHfAaE5QchCROH9kLIZsfeKc9v
ndsjXOvIumWsC6Ry_aTeZ7X6AHRBA1CpnOUGsZynTUxquEwv-u8K2dEJdJl95C2TyAAyzbWjkne_fqox6L1M2GiA7hefLbr9uPqP0iH6j8qhwKpUPBvtLU4W
jf4oUeGV047ZIgXJq5XDP0J8d2PPTLqddJC7kp8TplVn7vNp6hyT4cF7Ey5S3Qeqzw8Cl3cfLl65oL_sm_VcA621sSwx15uGamL5tfZz19-GzkdnA2nt408s
FTbZk7G6M43sHy_i1nO8eyORI6dYu00i42RZG85KDRSobgLtztuvmcw5ZwTopbDvMJjxoJW2jFY4O1RuQwaTQs73sAWfFf3G__r2ec3vzEKFw3y
}

skinparam rectangle<<AzureDNS>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}




sprite $AzureVPNGateway [70x70/16z] {
xTXdOi8m38PXD3wP-v-uECNAKeILVnrlouO7cGsFB1PLCrCLVjoCrRRfBSWD3rGrnAAaYiIXY1IO0b9cnB9q3Y7Buoa5jWztxd0D7cgirJN5rqgmDQgCWc2X
ayES40_pmt1orlbdWYRdbFIX5u-ThdRs4IVfSYbNyaVev0t3-SoOKoHNjAXeuUH_vLz1uUHVhX0pAvOCu2Y5lV_uLOJeZSwJ05K3e42vSkGAWKHAp1253AuL
H4Z409a2d928mIS59-J408aIECBS3MQEa5W9n-bCC4YcU9SAAWfY1QWfGA2Whk2e03L5nPrLyLEc5NB6svwGA_R-Ko9Pzhapz4-ABGdtY3gpX3r2n4kvmkIf
Ct34AogzeV2iejBZ3T9URHYMfKJnT8lqp1d1fbp1GBw1lZEOYh8YhQzY7KSBYXkhukEa2iV8LcbMKjnmPLHJMekLPWMbdHLlMcdj-GxZrLkUesPJIYSyeINU
7jbInUSuCOuuaoi7epEERB942OpES71qkr1yCQVYeorIA33o6eBV2lHPRXtb2m
}

skinparam rectangle<<AzureVPNGateway>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}




sprite $AzureExpressRoute [70x70/16z] {
xTO7RiOW30LWLXoRtF- -5GqnfbhkexkyVuzyOig4tvATdPsKSrer3ddDiM94qSGbP9qvhNAYuofJm34cQIaX51rXj4EdUOShXyxtkTeMHXLTSHGZwRXysnnn
jKXb3BbgDKYz64AkpdJakXX1MfYRmSyd3A4so6rOIHa4qIW38JWp49on2CuC16SiWZC3mHcBuCn0OCOY41DJcX0dar8Ccd9lEL74nSXzLUdjuB7zE-9WQfKU
Zc_AQEs8WwbpyMMn30LNo2B28Oi0DJtAbDohH8ndxvChzIaolThSpytdzofy5tDDrbBeLRHOcX4vyBPeb-x6430kJrEeo9ISNCaofSphXVmd91EUfvw3EomZ
SHfbZdubyZp38PBE572WfcYFwH4u3-lX_gTaPsVd1G
}

skinparam rectangle<<AzureExpressRoute>> {
    BackgroundColor #282a36
    BorderColor #f8f8f2
    FontColor #f8f8f2
}





left to right direction

TITLE: Island Network Topology

skinparam Rectangle {
    BorderColor<<island>> #50fa7b
    BorderThickness<<island>> 6
}

skinparam rectangle<<e_stereo>> {
    BackgroundColor<<Region>> #282a36
	BorderColor<<Region>> #ff5555
	BackgroundColor<<AzureSubscription>> #44475a
	BorderColor<<AzureSubscription>> #f1fa8c
    BackgroundColor<<AzureVirtualNetwork>> #282a36
    BorderColor<<AzureVirtualNetwork>> #ffb86c
    BackgroundColor<<AzureSubnet>> #44475a
    BorderColor<<AzureSubnet>> #ffb86c
    BorderColor<<AzureRouteTable>> #ffb86c
    BorderColor<<AzurePrivateLink>> #ffb86c
	BorderColor<<AzureExpressRoute>> #ffb86c
	BorderColor<<AzureVPNGateway>> #ffb86c
    BorderColor<<AzureVirtualMachine>> #bd93f9
    BorderColor<<AzureFunction>> #bd93f9
    BorderColor<<AzureDataLakeStorage>> #8be9fd
    BorderColor<<AzureSqlDataWarehouse>> #8be9fd
    BorderColor<<AzureDataFactory>> #8be9fd
    BorderColor<<AzureFirewall>> #ff5555
    BorderColor<<AzureNSG>> #ff5555
    BorderColor<<AzureDNS>> #8be9fd
    BorderColor<<PrivateDnsResolver>> #8be9fd
}



rectangle "==Business Unit A\n<color:#f1fa8c><$AzureSubscription></color>" <<AzureSubscription>> as subscriptionIsland {

    Rectangle "Name Resolution Services" as nameResolution {
rectangle "==Private DNS Zones\n//<size:8> </size>//\n<color:#8be9fd><$AzureDNS></color>\n//<size:18>[storage, event hub, AppServices, etc..]</size>//\n\n Automated support for Azure servcies with private links" <<AzureDNS>> as dnsIslandPrivateZones
        Rectangle "DNS Private Resolver\ncontoso.com" <<PrivateDnsResolver>> as dnsPrivateResolver
    } 

    together {
rectangle "==workload a\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[AKS, Azure Functions, Virtual Machines]</size>//\n\n 192.168.0.0/20" <<AzureVirtualNetwork>> as vnetIslandA #line:red {
        }
rectangle "==workload b\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Databricks, Synapse]</size>//\n\n 192.168.16.0/20" <<AzureVirtualNetwork>> as vnetIslandB #line:red {
        }
    }

    nameResolution -down-> vnetIslandA
    nameResolution -> vnetIslandB
}

rectangle "==Core Infrastructure Services\n<color:#f1fa8c><$AzureSubscription></color>" <<AzureSubscription>> as subscriptionInfrastructure {
rectangle "==Bridge - Business Unit A\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Azure Firewall, Bastion, Application Gateway, Private Link Service Endpoints]</size>//\n\n 10.10.16.0/20" <<AzureVirtualNetwork>> as vnetBridge #line:red;line.bold {
    }
rectangle "==Hub\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Azure Firewall, DNS servers (contoso.com), Private Link Service Endpoints]</size>//\n\n 10.10.0.0/20" <<AzureVirtualNetwork>> as vnetHub #line:white
}

rectangle "==Hybrid Workload\n<color:#f1fa8c><$AzureSubscription></color>" <<AzureSubscription>> as subscriptionSpoke {
rectangle "==Spoke\n//<size:8> </size>//\n<color:#f8f8f2><$AzureVirtualNetwork></color>\n//<size:18>[Custom API: api.contoso.com]</size>//\n\n 10.10.32.0/20" <<AzureVirtualNetwork>> as vnetSpoke #line:white

}

vnetIslandA <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetIslandB <-[thickness=2,#red]down-> vnetBridge : "Peer"
vnetBridge <-down-> vnetHub : "Peer"
vnetHub <-down-> vnetSpoke : "Peer"

@enduml

PlantUML version 1.2022.8(Sun Sep 25 04:00:33 CDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>